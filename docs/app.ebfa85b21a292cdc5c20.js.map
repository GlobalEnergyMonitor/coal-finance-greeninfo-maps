{"version":3,"file":"app.ebfa85b21a292cdc5c20.js","mappings":"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","sources":["webpack://coal-finance-2021/./node_modules/mobile-detect/mobile-detect.js","webpack://coal-finance-2021/webpack/bootstrap","webpack://coal-finance-2021/webpack/runtime/amd define","webpack://coal-finance-2021/webpack/runtime/compat get default export","webpack://coal-finance-2021/webpack/runtime/define property getters","webpack://coal-finance-2021/webpack/runtime/hasOwnProperty shorthand","webpack://coal-finance-2021/./src/index.js","webpack://coal-finance-2021/./src/index.scss?2c1e"],"sourcesContent":["// THIS FILE IS GENERATED - DO NOT EDIT!\n/*!mobile-detect v1.4.5 2021-03-13*/\n/*global module:false, define:false*/\n/*jshint latedef:false*/\n/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/\n(function (define, undefined) {\ndefine(function () {\n    'use strict';\n\n    var impl = {};\n\n    impl.mobileDetectRules = {\n    \"phones\": {\n        \"iPhone\": \"\\\\biPhone\\\\b|\\\\biPod\\\\b\",\n        \"BlackBerry\": \"BlackBerry|\\\\bBB10\\\\b|rim[0-9]+|\\\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\\\b-[0-9]+\",\n        \"Pixel\": \"; \\\\bPixel\\\\b\",\n        \"HTC\": \"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\\\bEVO\\\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel\",\n        \"Nexus\": \"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6\",\n        \"Dell\": \"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\\\b001DL\\\\b|\\\\b101DL\\\\b|\\\\bGS01\\\\b\",\n        \"Motorola\": \"Motorola|DROIDX|DROID BIONIC|\\\\bDroid\\\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\\\bMoto E\\\\b|XT1068|XT1092|XT1052\",\n        \"Samsung\": \"\\\\bSamsung\\\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F\",\n        \"LG\": \"\\\\bLG\\\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710\",\n        \"Sony\": \"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332\",\n        \"Asus\": \"Asus.*Galaxy|PadFone.*Mobile\",\n        \"Xiaomi\": \"^(?!.*\\\\bx11\\\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G\",\n        \"NokiaLumia\": \"Lumia [0-9]{3,4}\",\n        \"Micromax\": \"Micromax.*\\\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\\\b\",\n        \"Palm\": \"PalmSource|Palm\",\n        \"Vertu\": \"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature\",\n        \"Pantech\": \"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790\",\n        \"Fly\": \"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250\",\n        \"Wiko\": \"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM\",\n        \"iMobile\": \"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)\",\n        \"SimValley\": \"\\\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\\\b\",\n        \"Wolfgang\": \"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q\",\n        \"Alcatel\": \"Alcatel\",\n        \"Nintendo\": \"Nintendo (3DS|Switch)\",\n        \"Amoi\": \"Amoi\",\n        \"INQ\": \"INQ\",\n        \"OnePlus\": \"ONEPLUS\",\n        \"GenericPhone\": \"Tapatalk|PDA;|SAGEM|\\\\bmmp\\\\b|pocket|\\\\bpsp\\\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\\\bwap\\\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser\"\n    },\n    \"tablets\": {\n        \"iPad\": \"iPad|iPad.*Mobile\",\n        \"NexusTablet\": \"Android.*Nexus[\\\\s]+(7|9|10)\",\n        \"GoogleTablet\": \"Android.*Pixel C\",\n        \"SamsungTablet\": \"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860\",\n        \"Kindle\": \"Kindle|Silk.*Accelerated|Android.*\\\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\\\b|Android.*Silk\\/[0-9.]+ like Chrome\\/[0-9.]+ (?!Mobile)\",\n        \"SurfaceTablet\": \"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)\",\n        \"HPTablet\": \"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10\",\n        \"AsusTablet\": \"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\\\bK00F\\\\b|\\\\bK00C\\\\b|\\\\bK00E\\\\b|\\\\bK00L\\\\b|TX201LA|ME176C|ME102A|\\\\bM80TA\\\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\\\bME70C\\\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\\\bP027\\\\b|\\\\bP024\\\\b|\\\\bP00C\\\\b\",\n        \"BlackBerryTablet\": \"PlayBook|RIM Tablet\",\n        \"HTCtablet\": \"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410\",\n        \"MotorolaTablet\": \"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617\",\n        \"NookTablet\": \"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2\",\n        \"AcerTablet\": \"Android.*; \\\\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\\\b|W3-810|\\\\bA3-A10\\\\b|\\\\bA3-A11\\\\b|\\\\bA3-A20\\\\b|\\\\bA3-A30|A3-A40\",\n        \"ToshibaTablet\": \"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO\",\n        \"LGTablet\": \"\\\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\\\b\",\n        \"FujitsuTablet\": \"Android.*\\\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\\\b\",\n        \"PrestigioTablet\": \"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002\",\n        \"LenovoTablet\": \"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L\",\n        \"DellTablet\": \"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7\",\n        \"YarvikTablet\": \"Android.*\\\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\\\b\",\n        \"MedionTablet\": \"Android.*\\\\bOYO\\\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB\",\n        \"ArnovaTablet\": \"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2\",\n        \"IntensoTablet\": \"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004\",\n        \"IRUTablet\": \"M702pro\",\n        \"MegafonTablet\": \"MegaFon V9|\\\\bZTE V9\\\\b|Android.*\\\\bMT7A\\\\b\",\n        \"EbodaTablet\": \"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)\",\n        \"AllViewTablet\": \"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)\",\n        \"ArchosTablet\": \"\\\\b(101G9|80G9|A101IT)\\\\b|Qilive 97R|Archos5|\\\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\\\b\",\n        \"AinolTablet\": \"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark\",\n        \"NokiaLumiaTablet\": \"Lumia 2520\",\n        \"SonyTablet\": \"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712\",\n        \"PhilipsTablet\": \"\\\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\\\b\",\n        \"CubeTablet\": \"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT\",\n        \"CobyTablet\": \"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010\",\n        \"MIDTablet\": \"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10\",\n        \"MSITablet\": \"MSI \\\\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\\\b\",\n        \"SMiTTablet\": \"Android.*(\\\\bMID\\\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)\",\n        \"RockChipTablet\": \"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A\",\n        \"FlyTablet\": \"IQ310|Fly Vision\",\n        \"bqTablet\": \"Android.*(bq)?.*\\\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\\\b|Maxwell.*Lite|Maxwell.*Plus\",\n        \"HuaweiTablet\": \"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19\",\n        \"NecTablet\": \"\\\\bN-06D|\\\\bN-08D\",\n        \"PantechTablet\": \"Pantech.*P4100\",\n        \"BronchoTablet\": \"Broncho.*(N701|N708|N802|a710)\",\n        \"VersusTablet\": \"TOUCHPAD.*[78910]|\\\\bTOUCHTAB\\\\b\",\n        \"ZyncTablet\": \"z1000|Z99 2G|z930|z990|z909|Z919|z900\",\n        \"PositivoTablet\": \"TB07STA|TB10STA|TB07FTA|TB10FTA\",\n        \"NabiTablet\": \"Android.*\\\\bNabi\",\n        \"KoboTablet\": \"Kobo Touch|\\\\bK080\\\\b|\\\\bVox\\\\b Build|\\\\bArc\\\\b Build\",\n        \"DanewTablet\": \"DSlide.*\\\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\\\b\",\n        \"TexetTablet\": \"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE\",\n        \"PlaystationTablet\": \"Playstation.*(Portable|Vita)\",\n        \"TrekstorTablet\": \"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab\",\n        \"PyleAudioTablet\": \"\\\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\\\b\",\n        \"AdvanTablet\": \"Android.* \\\\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\\\b \",\n        \"DanyTechTablet\": \"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1\",\n        \"GalapadTablet\": \"Android [0-9.]+; [a-z-]+; \\\\bG1\\\\b\",\n        \"MicromaxTablet\": \"Funbook|Micromax.*\\\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\\\b\",\n        \"KarbonnTablet\": \"Android.*\\\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\\\b\",\n        \"AllFineTablet\": \"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide\",\n        \"PROSCANTablet\": \"\\\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\\\b\",\n        \"YONESTablet\": \"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026\",\n        \"ChangJiaTablet\": \"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503\",\n        \"GUTablet\": \"TX-A1301|TX-M9002|Q702|kf026\",\n        \"PointOfViewTablet\": \"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10\",\n        \"OvermaxTablet\": \"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027\",\n        \"HCLTablet\": \"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync\",\n        \"DPSTablet\": \"DPS Dream 9|DPS Dual 7\",\n        \"VistureTablet\": \"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10\",\n        \"CrestaTablet\": \"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989\",\n        \"MediatekTablet\": \"\\\\bMT8125|MT8389|MT8135|MT8377\\\\b\",\n        \"ConcordeTablet\": \"Concorde([ ]+)?Tab|ConCorde ReadMan\",\n        \"GoCleverTablet\": \"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042\",\n        \"ModecomTablet\": \"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003\",\n        \"VoninoTablet\": \"\\\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\\\bQ8\\\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\\\b\",\n        \"ECSTablet\": \"V07OT2|TM105A|S10OT1|TR10CS1\",\n        \"StorexTablet\": \"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab\",\n        \"VodafoneTablet\": \"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400\",\n        \"EssentielBTablet\": \"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2\",\n        \"RossMoorTablet\": \"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711\",\n        \"iMobileTablet\": \"i-mobile i-note\",\n        \"TolinoTablet\": \"tolino tab [0-9.]+|tolino shine\",\n        \"AudioSonicTablet\": \"\\\\bC-22Q|T7-QC|T-17B|T-17P\\\\b\",\n        \"AMPETablet\": \"Android.* A78 \",\n        \"SkkTablet\": \"Android.* (SKYPAD|PHOENIX|CYCLOPS)\",\n        \"TecnoTablet\": \"TECNO P9|TECNO DP8D\",\n        \"JXDTablet\": \"Android.* \\\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\\\b\",\n        \"iJoyTablet\": \"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)\",\n        \"FX2Tablet\": \"FX2 PAD7|FX2 PAD10\",\n        \"XoroTablet\": \"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151\",\n        \"ViewsonicTablet\": \"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a\",\n        \"VerizonTablet\": \"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1\",\n        \"OdysTablet\": \"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\\\bXELIO\\\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10\",\n        \"CaptivaTablet\": \"CAPTIVA PAD\",\n        \"IconbitTablet\": \"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S\",\n        \"TeclastTablet\": \"T98 4G|\\\\bP80\\\\b|\\\\bX90HD\\\\b|X98 Air|X98 Air 3G|\\\\bX89\\\\b|P80 3G|\\\\bX80h\\\\b|P98 Air|\\\\bX89HD\\\\b|P98 3G|\\\\bP90HD\\\\b|P89 3G|X98 3G|\\\\bP70h\\\\b|P79HD 3G|G18d 3G|\\\\bP79HD\\\\b|\\\\bP89s\\\\b|\\\\bA88\\\\b|\\\\bP10HD\\\\b|\\\\bP19HD\\\\b|G18 3G|\\\\bP78HD\\\\b|\\\\bA78\\\\b|\\\\bP75\\\\b|G17s 3G|G17h 3G|\\\\bP85t\\\\b|\\\\bP90\\\\b|\\\\bP11\\\\b|\\\\bP98t\\\\b|\\\\bP98HD\\\\b|\\\\bG18d\\\\b|\\\\bP85s\\\\b|\\\\bP11HD\\\\b|\\\\bP88s\\\\b|\\\\bA80HD\\\\b|\\\\bA80se\\\\b|\\\\bA10h\\\\b|\\\\bP89\\\\b|\\\\bP78s\\\\b|\\\\bG18\\\\b|\\\\bP85\\\\b|\\\\bA70h\\\\b|\\\\bA70\\\\b|\\\\bG17\\\\b|\\\\bP18\\\\b|\\\\bA80s\\\\b|\\\\bA11s\\\\b|\\\\bP88HD\\\\b|\\\\bA80h\\\\b|\\\\bP76s\\\\b|\\\\bP76h\\\\b|\\\\bP98\\\\b|\\\\bA10HD\\\\b|\\\\bP78\\\\b|\\\\bP88\\\\b|\\\\bA11\\\\b|\\\\bA10t\\\\b|\\\\bP76a\\\\b|\\\\bP76t\\\\b|\\\\bP76e\\\\b|\\\\bP85HD\\\\b|\\\\bP85a\\\\b|\\\\bP86\\\\b|\\\\bP75HD\\\\b|\\\\bP76v\\\\b|\\\\bA12\\\\b|\\\\bP75a\\\\b|\\\\bA15\\\\b|\\\\bP76Ti\\\\b|\\\\bP81HD\\\\b|\\\\bA10\\\\b|\\\\bT760VE\\\\b|\\\\bT720HD\\\\b|\\\\bP76\\\\b|\\\\bP73\\\\b|\\\\bP71\\\\b|\\\\bP72\\\\b|\\\\bT720SE\\\\b|\\\\bC520Ti\\\\b|\\\\bT760\\\\b|\\\\bT720VE\\\\b|T720-3GE|T720-WiFi\",\n        \"OndaTablet\": \"\\\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\\\b[\\\\s]+|V10 \\\\b4G\\\\b\",\n        \"JaytechTablet\": \"TPC-PA762\",\n        \"BlaupunktTablet\": \"Endeavour 800NG|Endeavour 1010\",\n        \"DigmaTablet\": \"\\\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\\\b\",\n        \"EvolioTablet\": \"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\\\bEvotab\\\\b|\\\\bNeura\\\\b\",\n        \"LavaTablet\": \"QPAD E704|\\\\bIvoryS\\\\b|E-TAB IVORY|\\\\bE-TAB\\\\b\",\n        \"AocTablet\": \"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712\",\n        \"MpmanTablet\": \"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\\\bMPG7\\\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010\",\n        \"CelkonTablet\": \"CT695|CT888|CT[\\\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\\\bCT-1\\\\b\",\n        \"WolderTablet\": \"miTab \\\\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\\\b\",\n        \"MediacomTablet\": \"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA\",\n        \"MiTablet\": \"\\\\bMI PAD\\\\b|\\\\bHM NOTE 1W\\\\b\",\n        \"NibiruTablet\": \"Nibiru M1|Nibiru Jupiter One\",\n        \"NexoTablet\": \"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI\",\n        \"LeaderTablet\": \"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100\",\n        \"UbislateTablet\": \"UbiSlate[\\\\s]?7C\",\n        \"PocketBookTablet\": \"Pocketbook\",\n        \"KocasoTablet\": \"\\\\b(TB-1207)\\\\b\",\n        \"HisenseTablet\": \"\\\\b(F5281|E2371)\\\\b\",\n        \"Hudl\": \"Hudl HT7S3|Hudl 2\",\n        \"TelstraTablet\": \"T-Hub2\",\n        \"GenericTablet\": \"Android.*\\\\b97D\\\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\\\bA7EB\\\\b|CatNova8|A1_07|CT704|CT1002|\\\\bM721\\\\b|rk30sdk|\\\\bEVOTAB\\\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\\\bM6pro\\\\b|CT1020W|arc 10HD|\\\\bTP750\\\\b|\\\\bQTAQZ3\\\\b|WVT101|TM1088|KT107\"\n    },\n    \"oss\": {\n        \"AndroidOS\": \"Android\",\n        \"BlackBerryOS\": \"blackberry|\\\\bBB10\\\\b|rim tablet os\",\n        \"PalmOS\": \"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino\",\n        \"SymbianOS\": \"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\\\bS60\\\\b\",\n        \"WindowsMobileOS\": \"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;\",\n        \"WindowsPhoneOS\": \"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;\",\n        \"iOS\": \"\\\\biPhone.*Mobile|\\\\biPod|\\\\biPad|AppleCoreMedia\",\n        \"iPadOS\": \"CPU OS 13\",\n        \"SailfishOS\": \"Sailfish\",\n        \"MeeGoOS\": \"MeeGo\",\n        \"MaemoOS\": \"Maemo\",\n        \"JavaOS\": \"J2ME\\/|\\\\bMIDP\\\\b|\\\\bCLDC\\\\b\",\n        \"webOS\": \"webOS|hpwOS\",\n        \"badaOS\": \"\\\\bBada\\\\b\",\n        \"BREWOS\": \"BREW\"\n    },\n    \"uas\": {\n        \"Chrome\": \"\\\\bCrMo\\\\b|CriOS|Android.*Chrome\\/[.0-9]* (Mobile)?\",\n        \"Dolfin\": \"\\\\bDolfin\\\\b\",\n        \"Opera\": \"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR\\/[0-9.]+$|Coast\\/[0-9.]+\",\n        \"Skyfire\": \"Skyfire\",\n        \"Edge\": \"\\\\bEdgiOS\\\\b|Mobile Safari\\/[.0-9]* Edge\",\n        \"IE\": \"IEMobile|MSIEMobile\",\n        \"Firefox\": \"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS\",\n        \"Bolt\": \"bolt\",\n        \"TeaShark\": \"teashark\",\n        \"Blazer\": \"Blazer\",\n        \"Safari\": \"Version((?!\\\\bEdgiOS\\\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari\",\n        \"WeChat\": \"\\\\bMicroMessenger\\\\b\",\n        \"UCBrowser\": \"UC.*Browser|UCWEB\",\n        \"baiduboxapp\": \"baiduboxapp\",\n        \"baidubrowser\": \"baidubrowser\",\n        \"DiigoBrowser\": \"DiigoBrowser\",\n        \"Mercury\": \"\\\\bMercury\\\\b\",\n        \"ObigoBrowser\": \"Obigo\",\n        \"NetFront\": \"NF-Browser\",\n        \"GenericBrowser\": \"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger\",\n        \"PaleMoon\": \"Android.*PaleMoon|Mobile.*PaleMoon\"\n    },\n    \"props\": {\n        \"Mobile\": \"Mobile\\/[VER]\",\n        \"Build\": \"Build\\/[VER]\",\n        \"Version\": \"Version\\/[VER]\",\n        \"VendorID\": \"VendorID\\/[VER]\",\n        \"iPad\": \"iPad.*CPU[a-z ]+[VER]\",\n        \"iPhone\": \"iPhone.*CPU[a-z ]+[VER]\",\n        \"iPod\": \"iPod.*CPU[a-z ]+[VER]\",\n        \"Kindle\": \"Kindle\\/[VER]\",\n        \"Chrome\": [\n            \"Chrome\\/[VER]\",\n            \"CriOS\\/[VER]\",\n            \"CrMo\\/[VER]\"\n        ],\n        \"Coast\": [\n            \"Coast\\/[VER]\"\n        ],\n        \"Dolfin\": \"Dolfin\\/[VER]\",\n        \"Firefox\": [\n            \"Firefox\\/[VER]\",\n            \"FxiOS\\/[VER]\"\n        ],\n        \"Fennec\": \"Fennec\\/[VER]\",\n        \"Edge\": \"Edge\\/[VER]\",\n        \"IE\": [\n            \"IEMobile\\/[VER];\",\n            \"IEMobile [VER]\",\n            \"MSIE [VER];\",\n            \"Trident\\/[0-9.]+;.*rv:[VER]\"\n        ],\n        \"NetFront\": \"NetFront\\/[VER]\",\n        \"NokiaBrowser\": \"NokiaBrowser\\/[VER]\",\n        \"Opera\": [\n            \" OPR\\/[VER]\",\n            \"Opera Mini\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"Opera Mini\": \"Opera Mini\\/[VER]\",\n        \"Opera Mobi\": \"Version\\/[VER]\",\n        \"UCBrowser\": [\n            \"UCWEB[VER]\",\n            \"UC.*Browser\\/[VER]\"\n        ],\n        \"MQQBrowser\": \"MQQBrowser\\/[VER]\",\n        \"MicroMessenger\": \"MicroMessenger\\/[VER]\",\n        \"baiduboxapp\": \"baiduboxapp\\/[VER]\",\n        \"baidubrowser\": \"baidubrowser\\/[VER]\",\n        \"SamsungBrowser\": \"SamsungBrowser\\/[VER]\",\n        \"Iron\": \"Iron\\/[VER]\",\n        \"Safari\": [\n            \"Version\\/[VER]\",\n            \"Safari\\/[VER]\"\n        ],\n        \"Skyfire\": \"Skyfire\\/[VER]\",\n        \"Tizen\": \"Tizen\\/[VER]\",\n        \"Webkit\": \"webkit[ \\/][VER]\",\n        \"PaleMoon\": \"PaleMoon\\/[VER]\",\n        \"SailfishBrowser\": \"SailfishBrowser\\/[VER]\",\n        \"Gecko\": \"Gecko\\/[VER]\",\n        \"Trident\": \"Trident\\/[VER]\",\n        \"Presto\": \"Presto\\/[VER]\",\n        \"Goanna\": \"Goanna\\/[VER]\",\n        \"iOS\": \" \\\\bi?OS\\\\b [VER][ ;]{1}\",\n        \"Android\": \"Android [VER]\",\n        \"Sailfish\": \"Sailfish [VER]\",\n        \"BlackBerry\": [\n            \"BlackBerry[\\\\w]+\\/[VER]\",\n            \"BlackBerry.*Version\\/[VER]\",\n            \"Version\\/[VER]\"\n        ],\n        \"BREW\": \"BREW [VER]\",\n        \"Java\": \"Java\\/[VER]\",\n        \"Windows Phone OS\": [\n            \"Windows Phone OS [VER]\",\n            \"Windows Phone [VER]\"\n        ],\n        \"Windows Phone\": \"Windows Phone [VER]\",\n        \"Windows CE\": \"Windows CE\\/[VER]\",\n        \"Windows NT\": \"Windows NT [VER]\",\n        \"Symbian\": [\n            \"SymbianOS\\/[VER]\",\n            \"Symbian\\/[VER]\"\n        ],\n        \"webOS\": [\n            \"webOS\\/[VER]\",\n            \"hpwOS\\/[VER];\"\n        ]\n    },\n    \"utils\": {\n        \"Bot\": \"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot\",\n        \"MobileBot\": \"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker\\/M1A1-R2D2\",\n        \"DesktopMode\": \"WPDesktop\",\n        \"TV\": \"SonyDTV|HbbTV\",\n        \"WebKit\": \"(webkit)[ \\/]([\\\\w.]+)\",\n        \"Console\": \"\\\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\\\b\",\n        \"Watch\": \"SM-V700\"\n    }\n};\n\n    // following patterns come from http://detectmobilebrowsers.com/\n    impl.detectMobileBrowsers = {\n        fullPattern: /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,\n        shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,\n        tabletPattern: /android|ipad|playbook|silk/i\n    };\n\n    var hasOwnProp = Object.prototype.hasOwnProperty,\n        isArray;\n\n    impl.FALLBACK_PHONE = 'UnknownPhone';\n    impl.FALLBACK_TABLET = 'UnknownTablet';\n    impl.FALLBACK_MOBILE = 'UnknownMobile';\n\n    isArray = ('isArray' in Array) ?\n        Array.isArray : function (value) { return Object.prototype.toString.call(value) === '[object Array]'; };\n\n    function equalIC(a, b) {\n        return a != null && b != null && a.toLowerCase() === b.toLowerCase();\n    }\n\n    function containsIC(array, value) {\n        var valueLC, i, len = array.length;\n        if (!len || !value) {\n            return false;\n        }\n        valueLC = value.toLowerCase();\n        for (i = 0; i < len; ++i) {\n            if (valueLC === array[i].toLowerCase()) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function convertPropsToRegExp(object) {\n        for (var key in object) {\n            if (hasOwnProp.call(object, key)) {\n                object[key] = new RegExp(object[key], 'i');\n            }\n        }\n    }\n\n    function prepareUserAgent(userAgent) {\n        return (userAgent || '').substr(0, 500); // mitigate vulnerable to ReDoS\n    }\n\n    (function init() {\n        var key, values, value, i, len, verPos, mobileDetectRules = impl.mobileDetectRules;\n        for (key in mobileDetectRules.props) {\n            if (hasOwnProp.call(mobileDetectRules.props, key)) {\n                values = mobileDetectRules.props[key];\n                if (!isArray(values)) {\n                    values = [values];\n                }\n                len = values.length;\n                for (i = 0; i < len; ++i) {\n                    value = values[i];\n                    verPos = value.indexOf('[VER]');\n                    if (verPos >= 0) {\n                        value = value.substring(0, verPos) + '([\\\\w._\\\\+]+)' + value.substring(verPos + 5);\n                    }\n                    values[i] = new RegExp(value, 'i');\n                }\n                mobileDetectRules.props[key] = values;\n            }\n        }\n        convertPropsToRegExp(mobileDetectRules.oss);\n        convertPropsToRegExp(mobileDetectRules.phones);\n        convertPropsToRegExp(mobileDetectRules.tablets);\n        convertPropsToRegExp(mobileDetectRules.uas);\n        convertPropsToRegExp(mobileDetectRules.utils);\n\n        // copy some patterns to oss0 which are tested first (see issue#15)\n        mobileDetectRules.oss0 = {\n            WindowsPhoneOS: mobileDetectRules.oss.WindowsPhoneOS,\n            WindowsMobileOS: mobileDetectRules.oss.WindowsMobileOS\n        };\n    }());\n\n    /**\n     * Test userAgent string against a set of rules and find the first matched key.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {String|null} the matched key if found, otherwise <tt>null</tt>\n     * @private\n     */\n    impl.findMatch = function(rules, userAgent) {\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    return key;\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Test userAgent string against a set of rules and return an array of matched keys.\n     * @param {Object} rules (key is String, value is RegExp)\n     * @param {String} userAgent the navigator.userAgent (or HTTP-Header 'User-Agent').\n     * @returns {Array} an array of matched keys, may be empty when there is no match, but not <tt>null</tt>\n     * @private\n     */\n    impl.findMatches = function(rules, userAgent) {\n        var result = [];\n        for (var key in rules) {\n            if (hasOwnProp.call(rules, key)) {\n                if (rules[key].test(userAgent)) {\n                    result.push(key);\n                }\n            }\n        }\n        return result;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {String} version or <tt>null</tt> if version not found\n     * @private\n     */\n    impl.getVersionStr = function (propertyName, userAgent) {\n        var props = impl.mobileDetectRules.props, patterns, i, len, match;\n        if (hasOwnProp.call(props, propertyName)) {\n            patterns = props[propertyName];\n            len = patterns.length;\n            for (i = 0; i < len; ++i) {\n                match = patterns[i].exec(userAgent);\n                if (match !== null) {\n                    return match[1];\n                }\n            }\n        }\n        return null;\n    };\n\n    /**\n     * Check the version of the given property in the User-Agent.\n     * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n     *\n     * @param {String} propertyName\n     * @param {String} userAgent\n     * @return {Number} version or <tt>NaN</tt> if version not found\n     * @private\n     */\n    impl.getVersion = function (propertyName, userAgent) {\n        var version = impl.getVersionStr(propertyName, userAgent);\n        return version ? impl.prepareVersionNo(version) : NaN;\n    };\n\n    /**\n     * Prepare the version number.\n     *\n     * @param {String} version\n     * @return {Number} the version number as a floating number\n     * @private\n     */\n    impl.prepareVersionNo = function (version) {\n        var numbers;\n\n        numbers = version.split(/[a-z._ \\/\\-]/i);\n        if (numbers.length === 1) {\n            version = numbers[0];\n        }\n        if (numbers.length > 1) {\n            version = numbers[0] + '.';\n            numbers.shift();\n            version += numbers.join('');\n        }\n        return Number(version);\n    };\n\n    impl.isMobileFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.fullPattern.test(userAgent) ||\n            impl.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4));\n    };\n\n    impl.isTabletFallback = function (userAgent) {\n        return impl.detectMobileBrowsers.tabletPattern.test(userAgent);\n    };\n\n    impl.prepareDetectionCache = function (cache, userAgent, maxPhoneWidth) {\n        if (cache.mobile !== undefined) {\n            return;\n        }\n        var phone, tablet, phoneSized;\n\n        // first check for stronger tablet rules, then phone (see issue#5)\n        tablet = impl.findMatch(impl.mobileDetectRules.tablets, userAgent);\n        if (tablet) {\n            cache.mobile = cache.tablet = tablet;\n            cache.phone = null;\n            return; // unambiguously identified as tablet\n        }\n\n        phone = impl.findMatch(impl.mobileDetectRules.phones, userAgent);\n        if (phone) {\n            cache.mobile = cache.phone = phone;\n            cache.tablet = null;\n            return; // unambiguously identified as phone\n        }\n\n        // our rules haven't found a match -> try more general fallback rules\n        if (impl.isMobileFallback(userAgent)) {\n            phoneSized = MobileDetect.isPhoneSized(maxPhoneWidth);\n            if (phoneSized === undefined) {\n                cache.mobile = impl.FALLBACK_MOBILE;\n                cache.tablet = cache.phone = null;\n            } else if (phoneSized) {\n                cache.mobile = cache.phone = impl.FALLBACK_PHONE;\n                cache.tablet = null;\n            } else {\n                cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n                cache.phone = null;\n            }\n        } else if (impl.isTabletFallback(userAgent)) {\n            cache.mobile = cache.tablet = impl.FALLBACK_TABLET;\n            cache.phone = null;\n        } else {\n            // not mobile at all!\n            cache.mobile = cache.tablet = cache.phone = null;\n        }\n    };\n\n    // t is a reference to a MobileDetect instance\n    impl.mobileGrade = function (t) {\n        // impl note:\n        // To keep in sync w/ Mobile_Detect.php easily, the following code is tightly aligned to the PHP version.\n        // When changes are made in Mobile_Detect.php, copy this method and replace:\n        //     $this-> / t.\n        //     self::MOBILE_GRADE_(.) / '$1'\n        //     , self::VERSION_TYPE_FLOAT / (nothing)\n        //     isIOS() / os('iOS')\n        //     [reg] / (nothing)   <-- jsdelivr complaining about unescaped unicode character U+00AE\n        var $isMobile = t.mobile() !== null;\n\n        if (\n            // Apple iOS 3.2-5.1 - Tested on the original iPad (4.3 / 5.0), iPad 2 (4.3), iPad 3 (5.1), original iPhone (3.1), iPhone 3 (3.2), 3GS (4.3), 4 (4.3 / 5.0), and 4S (5.1)\n            t.os('iOS') && t.version('iPad')>=4.3 ||\n            t.os('iOS') && t.version('iPhone')>=3.1 ||\n            t.os('iOS') && t.version('iPod')>=3.1 ||\n\n            // Android 2.1-2.3 - Tested on the HTC Incredible (2.2), original Droid (2.2), HTC Aria (2.1), Google Nexus S (2.3). Functional on 1.5 & 1.6 but performance may be sluggish, tested on Google G1 (1.5)\n            // Android 3.1 (Honeycomb)  - Tested on the Samsung Galaxy Tab 10.1 and Motorola XOOM\n            // Android 4.0 (ICS)  - Tested on a Galaxy Nexus. Note: transition performance can be poor on upgraded devices\n            // Android 4.1 (Jelly Bean)  - Tested on a Galaxy Nexus and Galaxy 7\n            ( t.version('Android')>2.1 && t.is('Webkit') ) ||\n\n            // Windows Phone 7-7.5 - Tested on the HTC Surround (7.0) HTC Trophy (7.5), LG-E900 (7.5), Nokia Lumia 800\n            t.version('Windows Phone OS')>=7.0 ||\n\n            // Blackberry 7 - Tested on BlackBerry Torch 9810\n            // Blackberry 6.0 - Tested on the Torch 9800 and Style 9670\n            t.is('BlackBerry') && t.version('BlackBerry')>=6.0 ||\n            // Blackberry Playbook (1.0-2.0) - Tested on PlayBook\n            t.match('Playbook.*Tablet') ||\n\n            // Palm WebOS (1.4-2.0) - Tested on the Palm Pixi (1.4), Pre (1.4), Pre 2 (2.0)\n            ( t.version('webOS')>=1.4 && t.match('Palm|Pre|Pixi') ) ||\n            // Palm WebOS 3.0  - Tested on HP TouchPad\n            t.match('hp.*TouchPad') ||\n\n            // Firefox Mobile (12 Beta) - Tested on Android 2.3 device\n            ( t.is('Firefox') && t.version('Firefox')>=12 ) ||\n\n            // Chrome for Android - Tested on Android 4.0, 4.1 device\n            ( t.is('Chrome') && t.is('AndroidOS') && t.version('Android')>=4.0 ) ||\n\n            // Skyfire 4.1 - Tested on Android 2.3 device\n            ( t.is('Skyfire') && t.version('Skyfire')>=4.1 && t.is('AndroidOS') && t.version('Android')>=2.3 ) ||\n\n            // Opera Mobile 11.5-12: Tested on Android 2.3\n            ( t.is('Opera') && t.version('Opera Mobi')>11 && t.is('AndroidOS') ) ||\n\n            // Meego 1.2 - Tested on Nokia 950 and N9\n            t.is('MeeGoOS') ||\n\n            // Tizen (pre-release) - Tested on early hardware\n            t.is('Tizen') ||\n\n            // Samsung Bada 2.0 - Tested on a Samsung Wave 3, Dolphin browser\n            // @todo: more tests here!\n            t.is('Dolfin') && t.version('Bada')>=2.0 ||\n\n            // UC Browser - Tested on Android 2.3 device\n            ( (t.is('UC Browser') || t.is('Dolfin')) && t.version('Android')>=2.3 ) ||\n\n            // Kindle 3 and Fire  - Tested on the built-in WebKit browser for each\n            ( t.match('Kindle Fire') ||\n                t.is('Kindle') && t.version('Kindle')>=3.0 ) ||\n\n            // Nook Color 1.4.1 - Tested on original Nook Color, not Nook Tablet\n            t.is('AndroidOS') && t.is('NookTablet') ||\n\n            // Chrome Desktop 11-21 - Tested on OS X 10.7 and Windows 7\n            t.version('Chrome')>=11 && !$isMobile ||\n\n            // Safari Desktop 4-5 - Tested on OS X 10.7 and Windows 7\n            t.version('Safari')>=5.0 && !$isMobile ||\n\n            // Firefox Desktop 4-13 - Tested on OS X 10.7 and Windows 7\n            t.version('Firefox')>=4.0 && !$isMobile ||\n\n            // Internet Explorer 7-9 - Tested on Windows XP, Vista and 7\n            t.version('MSIE')>=7.0 && !$isMobile ||\n\n            // Opera Desktop 10-12 - Tested on OS X 10.7 and Windows 7\n            // @reference: http://my.opera.com/community/openweb/idopera/\n            t.version('Opera')>=10 && !$isMobile\n\n            ){\n            return 'A';\n        }\n\n        if (\n            t.os('iOS') && t.version('iPad')<4.3 ||\n            t.os('iOS') && t.version('iPhone')<3.1 ||\n            t.os('iOS') && t.version('iPod')<3.1 ||\n\n            // Blackberry 5.0: Tested on the Storm 2 9550, Bold 9770\n            t.is('Blackberry') && t.version('BlackBerry')>=5 && t.version('BlackBerry')<6 ||\n\n            //Opera Mini (5.0-6.5) - Tested on iOS 3.2/4.3 and Android 2.3\n            ( t.version('Opera Mini')>=5.0 && t.version('Opera Mini')<=6.5 &&\n                (t.version('Android')>=2.3 || t.is('iOS')) ) ||\n\n            // Nokia Symbian^3 - Tested on Nokia N8 (Symbian^3), C7 (Symbian^3), also works on N97 (Symbian^1)\n            t.match('NokiaN8|NokiaC7|N97.*Series60|Symbian/3') ||\n\n            // @todo: report this (tested on Nokia N71)\n            t.version('Opera Mobi')>=11 && t.is('SymbianOS')\n            ){\n            return 'B';\n        }\n\n        if (\n        // Blackberry 4.x - Tested on the Curve 8330\n            t.version('BlackBerry')<5.0 ||\n            // Windows Mobile - Tested on the HTC Leo (WinMo 5.2)\n            t.match('MSIEMobile|Windows CE.*Mobile') || t.version('Windows Mobile')<=5.2\n\n            ){\n            return 'C';\n        }\n\n        //All older smartphone platforms and featurephones - Any device that doesn't support media queries\n        //will receive the basic, C grade experience.\n        return 'C';\n    };\n\n    impl.detectOS = function (ua) {\n        return impl.findMatch(impl.mobileDetectRules.oss0, ua) ||\n            impl.findMatch(impl.mobileDetectRules.oss, ua);\n    };\n\n    impl.getDeviceSmallerSide = function () {\n        return window.screen.width < window.screen.height ?\n            window.screen.width :\n            window.screen.height;\n    };\n\n    /**\n     * Constructor for MobileDetect object.\n     * <br>\n     * Such an object will keep a reference to the given user-agent string and cache most of the detect queries.<br>\n     * <div style=\"background-color: #d9edf7; border: 1px solid #bce8f1; color: #3a87ad; padding: 14px; border-radius: 2px; margin-top: 20px\">\n     *     <strong>Find information how to download and install:</strong>\n     *     <a href=\"https://github.com/hgoebl/mobile-detect.js/\">github.com/hgoebl/mobile-detect.js/</a>\n     * </div>\n     *\n     * @example <pre>\n     *     var md = new MobileDetect(window.navigator.userAgent);\n     *     if (md.mobile()) {\n     *         location.href = (md.mobileGrade() === 'A') ? '/mobile/' : '/lynx/';\n     *     }\n     * </pre>\n     *\n     * @param {string} userAgent typically taken from window.navigator.userAgent or http_header['User-Agent']\n     * @param {number} [maxPhoneWidth=600] <strong>only for browsers</strong> specify a value for the maximum\n     *        width of smallest device side (in logical \"CSS\" pixels) until a device detected as mobile will be handled\n     *        as phone.\n     *        This is only used in cases where the device cannot be classified as phone or tablet.<br>\n     *        See <a href=\"http://developer.android.com/guide/practices/screens_support.html\">Declaring Tablet Layouts\n     *        for Android</a>.<br>\n     *        If you provide a value < 0, then this \"fuzzy\" check is disabled.\n     * @constructor\n     * @global\n     */\n    function MobileDetect(userAgent, maxPhoneWidth) {\n        this.ua = prepareUserAgent(userAgent);\n        this._cache = {};\n        //600dp is typical 7\" tablet minimum width\n        this.maxPhoneWidth = maxPhoneWidth || 600;\n    }\n\n    MobileDetect.prototype = {\n        constructor: MobileDetect,\n\n        /**\n         * Returns the detected phone or tablet type or <tt>null</tt> if it is not a mobile device.\n         * <br>\n         * For a list of possible return values see {@link MobileDetect#phone} and {@link MobileDetect#tablet}.<br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code>, <code>UnknownTablet</code> or\n         * <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>UnknownMobile</code> here.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key for the phone family or tablet family, e.g. \"Nexus\".\n         * @function MobileDetect#mobile\n         */\n        mobile: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.mobile;\n        },\n\n        /**\n         * Returns the detected phone type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPhone, BlackBerry, Pixel, HTC, Nexus, Dell, Motorola, Samsung, LG, Sony, Asus,\n         * Xiaomi, NokiaLumia, Micromax, Palm, Vertu, Pantech, Fly, Wiko, iMobile,\n         * SimValley, Wolfgang, Alcatel, Nintendo, Amoi, INQ, OnePlus, GenericPhone</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownPhone</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the phone family or producer, e.g. \"iPhone\"\n         * @function MobileDetect#phone\n         */\n        phone: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.phone;\n        },\n\n        /**\n         * Returns the detected tablet type/family string or <tt>null</tt>.\n         * <br>\n         * The returned tablet (family or producer) is one of following keys:<br>\n         * <br><tt>iPad, NexusTablet, GoogleTablet, SamsungTablet, Kindle, SurfaceTablet,\n         * HPTablet, AsusTablet, BlackBerryTablet, HTCtablet, MotorolaTablet, NookTablet,\n         * AcerTablet, ToshibaTablet, LGTablet, FujitsuTablet, PrestigioTablet,\n         * LenovoTablet, DellTablet, YarvikTablet, MedionTablet, ArnovaTablet,\n         * IntensoTablet, IRUTablet, MegafonTablet, EbodaTablet, AllViewTablet,\n         * ArchosTablet, AinolTablet, NokiaLumiaTablet, SonyTablet, PhilipsTablet,\n         * CubeTablet, CobyTablet, MIDTablet, MSITablet, SMiTTablet, RockChipTablet,\n         * FlyTablet, bqTablet, HuaweiTablet, NecTablet, PantechTablet, BronchoTablet,\n         * VersusTablet, ZyncTablet, PositivoTablet, NabiTablet, KoboTablet, DanewTablet,\n         * TexetTablet, PlaystationTablet, TrekstorTablet, PyleAudioTablet, AdvanTablet,\n         * DanyTechTablet, GalapadTablet, MicromaxTablet, KarbonnTablet, AllFineTablet,\n         * PROSCANTablet, YONESTablet, ChangJiaTablet, GUTablet, PointOfViewTablet,\n         * OvermaxTablet, HCLTablet, DPSTablet, VistureTablet, CrestaTablet,\n         * MediatekTablet, ConcordeTablet, GoCleverTablet, ModecomTablet, VoninoTablet,\n         * ECSTablet, StorexTablet, VodafoneTablet, EssentielBTablet, RossMoorTablet,\n         * iMobileTablet, TolinoTablet, AudioSonicTablet, AMPETablet, SkkTablet,\n         * TecnoTablet, JXDTablet, iJoyTablet, FX2Tablet, XoroTablet, ViewsonicTablet,\n         * VerizonTablet, OdysTablet, CaptivaTablet, IconbitTablet, TeclastTablet,\n         * OndaTablet, JaytechTablet, BlaupunktTablet, DigmaTablet, EvolioTablet,\n         * LavaTablet, AocTablet, MpmanTablet, CelkonTablet, WolderTablet, MediacomTablet,\n         * MiTablet, NibiruTablet, NexoTablet, LeaderTablet, UbislateTablet,\n         * PocketBookTablet, KocasoTablet, HisenseTablet, Hudl, TelstraTablet,\n         * GenericTablet</tt><br>\n         * <br>\n         * If the device is not detected by the regular expressions from Mobile-Detect, a test is made against\n         * the patterns of <a href=\"http://detectmobilebrowsers.com/\">detectmobilebrowsers.com</a>. If this test\n         * is positive, a value of <code>UnknownTablet</code> or <code>UnknownMobile</code> is returned.<br>\n         * When used in browser, the decision whether phone or tablet is made based on <code>screen.width/height</code>.<br>\n         * <br>\n         * When used server-side (node.js), there is no way to tell the difference between <code>UnknownTablet</code>\n         * and <code>UnknownMobile</code>, so you will get <code>null</code> here, while {@link MobileDetect#mobile}\n         * will return <code>UnknownMobile</code>.<br>\n         * Be aware that since v1.0.0 in this special case you will get <code>UnknownMobile</code> only for:\n         * {@link MobileDetect#mobile}, not for {@link MobileDetect#phone} and {@link MobileDetect#tablet}.\n         * In versions before v1.0.0 all 3 methods returned <code>UnknownMobile</code> which was tedious to use.\n         * <br>\n         * In most cases you will use the return value just as a boolean.\n         *\n         * @returns {String} the key of the tablet family or producer, e.g. \"SamsungTablet\"\n         * @function MobileDetect#tablet\n         */\n        tablet: function () {\n            impl.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth);\n            return this._cache.tablet;\n        },\n\n        /**\n         * Returns the (first) detected user-agent string or <tt>null</tt>.\n         * <br>\n         * The returned user-agent is one of following keys:<br>\n         * <br><tt>Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark, Blazer,\n         * Safari, WeChat, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser, Mercury,\n         * ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {String} the key for the detected user-agent or <tt>null</tt>\n         * @function MobileDetect#userAgent\n         */\n        userAgent: function () {\n            if (this._cache.userAgent === undefined) {\n                this._cache.userAgent = impl.findMatch(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgent;\n        },\n\n        /**\n         * Returns all detected user-agent strings.\n         * <br>\n         * The array is empty or contains one or more of following keys:<br>\n         * <br><tt>Chrome, Dolfin, Opera, Skyfire, Edge, IE, Firefox, Bolt, TeaShark, Blazer,\n         * Safari, WeChat, UCBrowser, baiduboxapp, baidubrowser, DiigoBrowser, Mercury,\n         * ObigoBrowser, NetFront, GenericBrowser, PaleMoon</tt><br>\n         * <br>\n         * In most cases calling {@link MobileDetect#userAgent} will be sufficient. But there are rare\n         * cases where a mobile device pretends to be more than one particular browser. You can get the\n         * list of all matches with {@link MobileDetect#userAgents} or check for a particular value by\n         * providing one of the defined keys as first argument to {@link MobileDetect#is}.\n         *\n         * @returns {Array} the array of detected user-agent keys or <tt>[]</tt>\n         * @function MobileDetect#userAgents\n         */\n        userAgents: function () {\n            if (this._cache.userAgents === undefined) {\n                this._cache.userAgents = impl.findMatches(impl.mobileDetectRules.uas, this.ua);\n            }\n            return this._cache.userAgents;\n        },\n\n        /**\n         * Returns the detected operating system string or <tt>null</tt>.\n         * <br>\n         * The operating system is one of following keys:<br>\n         * <br><tt>AndroidOS, BlackBerryOS, PalmOS, SymbianOS, WindowsMobileOS, WindowsPhoneOS,\n         * iOS, iPadOS, SailfishOS, MeeGoOS, MaemoOS, JavaOS, webOS, badaOS, BREWOS</tt><br>\n         *\n         * @returns {String} the key for the detected operating system.\n         * @function MobileDetect#os\n         */\n        os: function () {\n            if (this._cache.os === undefined) {\n                this._cache.os = impl.detectOS(this.ua);\n            }\n            return this._cache.os;\n        },\n\n        /**\n         * Get the version (as Number) of the given property in the User-Agent.\n         * <br>\n         * Will return a float number. (eg. 2_0 will return 2.0, 4.3.1 will return 4.31)\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UCBrowser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * SamsungBrowser, Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon,\n         * SailfishBrowser, Gecko, Trident, Presto, Goanna, iOS, Android, Sailfish,\n         * BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows CE, Windows\n         * NT, Symbian, webOS</tt><br>\n         *\n         * @returns {Number} the version as float or <tt>NaN</tt> if User-Agent doesn't contain this version.\n         *          Be careful when comparing this value with '==' operator!\n         * @function MobileDetect#version\n         */\n        version: function (key) {\n            return impl.getVersion(key, this.ua);\n        },\n\n        /**\n         * Get the version (as String) of the given property in the User-Agent.\n         * <br>\n         *\n         * @param {String} key a key defining a thing which has a version.<br>\n         *        You can use one of following keys:<br>\n         * <br><tt>Mobile, Build, Version, VendorID, iPad, iPhone, iPod, Kindle, Chrome, Coast,\n         * Dolfin, Firefox, Fennec, Edge, IE, NetFront, NokiaBrowser, Opera, Opera Mini,\n         * Opera Mobi, UCBrowser, MQQBrowser, MicroMessenger, baiduboxapp, baidubrowser,\n         * SamsungBrowser, Iron, Safari, Skyfire, Tizen, Webkit, PaleMoon,\n         * SailfishBrowser, Gecko, Trident, Presto, Goanna, iOS, Android, Sailfish,\n         * BlackBerry, BREW, Java, Windows Phone OS, Windows Phone, Windows CE, Windows\n         * NT, Symbian, webOS</tt><br>\n         *\n         * @returns {String} the \"raw\" version as String or <tt>null</tt> if User-Agent doesn't contain this version.\n         *\n         * @function MobileDetect#versionStr\n         */\n        versionStr: function (key) {\n            return impl.getVersionStr(key, this.ua);\n        },\n\n        /**\n         * Global test key against userAgent, os, phone, tablet and some other properties of userAgent string.\n         *\n         * @param {String} key the key (case-insensitive) of a userAgent, an operating system, phone or\n         *        tablet family.<br>\n         *        For a complete list of possible values, see {@link MobileDetect#userAgent},\n         *        {@link MobileDetect#os}, {@link MobileDetect#phone}, {@link MobileDetect#tablet}.<br>\n         *        Additionally you have following keys:<br>\n         * <br><tt>Bot, MobileBot, DesktopMode, TV, WebKit, Console, Watch</tt><br>\n         *\n         * @returns {boolean} <tt>true</tt> when the given key is one of the defined keys of userAgent, os, phone,\n         *                    tablet or one of the listed additional keys, otherwise <tt>false</tt>\n         * @function MobileDetect#is\n         */\n        is: function (key) {\n            return containsIC(this.userAgents(), key) ||\n                   equalIC(key, this.os()) ||\n                   equalIC(key, this.phone()) ||\n                   equalIC(key, this.tablet()) ||\n                   containsIC(impl.findMatches(impl.mobileDetectRules.utils, this.ua), key);\n        },\n\n        /**\n         * Do a quick test against navigator::userAgent.\n         *\n         * @param {String|RegExp} pattern the pattern, either as String or RegExp\n         *                        (a string will be converted to a case-insensitive RegExp).\n         * @returns {boolean} <tt>true</tt> when the pattern matches, otherwise <tt>false</tt>\n         * @function MobileDetect#match\n         */\n        match: function (pattern) {\n            if (!(pattern instanceof RegExp)) {\n                pattern = new RegExp(pattern, 'i');\n            }\n            return pattern.test(this.ua);\n        },\n\n        /**\n         * Checks whether the mobile device can be considered as phone regarding <code>screen.width</code>.\n         * <br>\n         * Obviously this method makes sense in browser environments only (not for Node.js)!\n         * @param {number} [maxPhoneWidth] the maximum logical pixels (aka. CSS-pixels) to be considered as phone.<br>\n         *        The argument is optional and if not present or falsy, the value of the constructor is taken.\n         * @returns {boolean|undefined} <code>undefined</code> if screen size wasn't detectable, else <code>true</code>\n         *          when screen.width is less or equal to maxPhoneWidth, otherwise <code>false</code>.<br>\n         *          Will always return <code>undefined</code> server-side.\n         */\n        isPhoneSized: function (maxPhoneWidth) {\n            return MobileDetect.isPhoneSized(maxPhoneWidth || this.maxPhoneWidth);\n        },\n\n        /**\n         * Returns the mobile grade ('A', 'B', 'C').\n         *\n         * @returns {String} one of the mobile grades ('A', 'B', 'C').\n         * @function MobileDetect#mobileGrade\n         */\n        mobileGrade: function () {\n            if (this._cache.grade === undefined) {\n                this._cache.grade = impl.mobileGrade(this);\n            }\n            return this._cache.grade;\n        }\n    };\n\n    // environment-dependent\n    if (typeof window !== 'undefined' && window.screen) {\n        MobileDetect.isPhoneSized = function (maxPhoneWidth) {\n            return maxPhoneWidth < 0 ? undefined : impl.getDeviceSmallerSide() <= maxPhoneWidth;\n        };\n    } else {\n        MobileDetect.isPhoneSized = function () {};\n    }\n\n    // should not be replaced by a completely new object - just overwrite existing methods\n    MobileDetect._impl = impl;\n    \n    MobileDetect.version = '1.4.5 2021-03-13';\n\n    return MobileDetect;\n}); // end of call of define()\n})((function (undefined) {\n    if (typeof module !== 'undefined' && module.exports) {\n        return function (factory) { module.exports = factory(); };\n    } else if (typeof define === 'function' && define.amd) {\n        return define;\n    } else if (typeof window !== 'undefined') {\n        return function (factory) { window.MobileDetect = factory(); };\n    } else {\n        // please file a bug if you get this error!\n        throw new Error('unknown environment');\n    }\n})());","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","///////////////////////////////////////////////////////////////////////////////////////////////////////////\n// IMPORTS\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\nimport MobileDetect from 'mobile-detect';\nimport * as JsSearch from 'js-search';\n\n///////////////////////////////////////////////////////////////////////////////////\n// STYLES, in production, these will be written to <script> tags\n///////////////////////////////////////////////////////////////////////////////////\nimport './loading.css';\nimport styles from './index.scss';\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n// GLOBAL VARIABLES & STRUCTURES\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n// global config\nconst CONFIG = {};\nconst DATA = {};\n\n// minzoom and maxzoom for the map\nCONFIG.minzoom = 2;\nCONFIG.maxzoom = 15;\n\n// pad the map extent by this much, in addition to the sidebar padding, see fitBoundsWithOffset()\nCONFIG.mapPad = 20; \n\n// Style definitions (see also scss exports, which are imported here as styles{})\n// a country outline style\nCONFIG.country_style = { stroke: true, color: '#666', opacity: 1, weight: 0.5, fillColor: styles.countrystyle, fillOpacity: 0.1 };\n// feature highlight styles, shows below features on hover or click\nCONFIG.feature_hover_style  = { color: '#fff5a3', fillOpacity: 1, stroke: true, weight: 13, opacity: 1 };\nCONFIG.feature_select_style = { color: '#f2e360', fillOpacity: 1, stroke: true, weight: 13, opacity: 1 };\n\n// Spatial-sankey config for options, svg styles, etc.\nCONFIG.minradius = 10; // min size in pixels, for a scaled point\nCONFIG.maxradius = 40; // max size in pixels, for a scaled poin\nCONFIG.sourcecolor = styles.sourcecolor;\nCONFIG.sourcecolor_light = styles.sourcecolor_light;\nCONFIG.targetcolor = styles.targetcolor;\nCONFIG.targetcolor_light = styles.targetcolor_light;\nCONFIG.circle_opacity = 1;\nCONFIG.node_flow_range = {};\nCONFIG.link_flow_range = {};\n\n// Sidebar and other element constants\nCONFIG.sidebarwidth = styles.sidebarwidth * 1; // cast as number\n\n// Pie chart colors\nCONFIG.piechart_colors = {\n  // \"Privately-owned commercial institution\": \"#7a9e9f\",\n  // \"Governmental policy institution\": \"#eef5db\",\n  // \"Government-owned commercial institution\": \"#4f6367\",\n  // // \"To be determined\": \"#90ed7d\",\n  // \"Joint venture\": \"#90ed7d\",\n  // \"Unknown\": \"#cecece\",\n}\n\nCONFIG.format = {\n  // return as is\n  'string': function(s) { return s },\n  // string to number with 0 decimals\n  'number': function(n) {\n    return parseFloat(n).toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});\n  },\n  // string to float with two decimals\n  'float': function(n) {\n    return parseFloat(n).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});\n  },\n  // string to number with as many output decimals as input\n  'variable_float': function(n) {\n    if (isNaN(n)) return n;\n    let num = Math.round((+n + Number.EPSILON) * 100) / 100; \n    if (num < 11) {\n      return parseFloat(num).toLocaleString('en-US');\n    } else {\n      return parseFloat(num).toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0}); \n    }\n  },\n  // if entered value is NaN, then return it, otherwise same as number, above\n  'mixed':  function(m) { return isNaN(m) ? m : CONFIG.format['number'](m) },\n}\n\n// track loading state\nCONFIG.first_load = true;\n\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// INITIALIZATION: these functions are called when the page is ready,\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n$(document).ready(function () {\n\n  // data initialization first, then the remaining init steps\n  Promise.all([initData('./data/map_file_gcpft2024-05-08.csv'), initData('./data/countries.json')])\n    .then(function(data) {\n      initDataFormat(data);    // get data ready for use\n      initLeafletShims();      // Leaflet extensions and shims\n      initD3();                // D3 inits\n      initMap();               // basic map inits\n      initSelects();           // init selects using Select2\n      initButtons();           // various button inits\n      initSearch();            // init the JQ typeahead search\n      initTippyTooltips();     // init the info icon tooltips\n\n// console.log(\"%cDATA\", \"color:green\", DATA);\n// console.log(\"%cCONFIG\", \"color:red\", CONFIG);\n\n      // ready!\n      setTimeout(function () {\n        CONFIG.first_load = false;    // done loading\n\n        // kick off the application\n        prepareMapAndCharts();\n        initSearchTerms(); // must be done after initial data filter is done\n\n        // ready!\n        $(\"div#loading\").hide();      \n      }, 200);\n    }); // Promise.then()\n});\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// FUNCTIONS CALLED ON DOC READY\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// Basic data init, returns a promise\nfunction initData(url) {\n  // wrap this in a promise, so we know we have it before continuing on to remaining initialize steps\n  return new Promise(function(resolve, reject) {\n    $.get(url, function(data) {\n      resolve(data);\n    });\n  });\n}\n\n// Data formatting routines, to get the static, raw data files into the form we need it in\nfunction initDataFormat(data) {\n  // set country data equal to the second data object from the initData() Promise()\n  DATA.country_data = data[1];\n\n  // parse and format the finance data from CSV\n  var data = Papa.parse(data[0], {header: true, skipEmptyLines: 'greedy'});\n\n  // Testing mode, or query params? You decide:\n  // allow URL param to limit the universe of data to a single source country\n  if (window.location.search) {\n    let params = new URLSearchParams(window.location.search)\n    let country = params.get('country');\n    if (country) {\n      let datar = data.data.filter(function(d) { return d.source == country && d.era == \"financing\" });\n      data.data = datar;\n    }\n  }\n\n  // check for data to skip\n  let rawdata = [], years = [], finance_types = [];\n  data.data.forEach(function(d) {\n    if (! d.era ) return; \n    if (! d.target_lat || isNaN(d.target_lat)) return;\n    if (! d.target_lng || isNaN(d.target_lng)) return;\n    if (! d.source_lat || isNaN(d.source_lat)) return;\n    if (! d.source_lng || isNaN(d.source_lng)) return;\n    if (! d.target_country_lat || isNaN(d.target_country_lat)) return;\n    if (! d.target_country_lng || isNaN(d.target_country_lng)) return;\n    if ( d.megawatts == \"\" ) return; // skip blank MW, but keep 0's\n    if (d.source == \"\" || d.target == \"\") return; // skip blank sources and targets\n\n    // formatting\n    if (d.finance_type === \"\" || d.finance_type === \"n/a\") d.finance_type = \"unknown\";\n    d.megawatts = +d.megawatts; \n    d.dollars = isNaN(d.dollars) ? 0 : +d.dollars // attempt to clean bad values from dollars (e.g. N/A), and also convert to integer\n    rawdata.push(d);\n\n    // collect close year for use in a year filter\n    // NOTE: year filter is disabled unless era = 'closed'\n    if (d.era == \"closed\") years.push(d.close_year);\n  });\n\n  // keep a reference to this geojson in DATA\n  DATA.rawdata = rawdata;\n\n  // construct the default home bounds from the data\n  let datar = DATA.rawdata.filter(function(d) { return d.era == \"financing\" });\n  let lats1 = datar.map(function(d) { return +d.target_country_lat });\n  let lats2 = datar.map(function(d) { return +d.source_lat });\n  let lats = lats1.concat(lats2);\n  let lngs1 = datar.map(function(d) { return +d.target_country_lng });\n  let lngs2 = datar.map(function(d) { return +d.source_lng });\n  let lngs = lngs1.concat(lngs2);\n  let xmin = d3.min(lngs);\n  let xmax = d3.max(lngs);\n  let ymin = d3.min(lats);\n  let ymax = d3.max(lats);\n  // console.log(datar)\n  // console.log(ymin)\n  // console.log(xmin)\n  // console.log(ymax)\n  // console.log(xmax)\n\n  CONFIG.homebounds = [[ymin, xmin],[ymax, xmax]];\n\n  // organize data according to two different target concepts: targets as country centoids, and targets as projects\n  DATA.target_countries = []; \n  DATA.rawdata.forEach(function(e) {\n    let d = JSON.parse(JSON.stringify(e));\n    d.project_name = d.target;\n    d.target = d.country;\n    d.target_lat = d.target_country_lat;\n    d.target_lng = d.target_country_lng;\n    DATA.target_countries.push(d);\n  });\n\n  // target projects: this is a lot easier, as this is how the data is already organized in the spreadsheet\n  DATA.target_projects = DATA.rawdata;\n\n  // reduce years to a single, sorted set, and keep a reference\n  // we use these to populate select#close_year, see initSelects()\n  CONFIG.years = uniq(years).sort();\n}\n\n// Leaflet inits\nfunction initLeafletShims() {\n  // a hack for deciding whether or not to pad the map bounds\n  L.Map.prototype.fitBoundsWithOffset = function (bounds, options) {\n    // not mobile, either not mobile, or mobile and wider than iPad portrait\n    var notmobile = ! isMobile() || $(window).width() > 767;\n    var sidebarvisible = $('div#sidebar').offset().left >= 0;\n    if (notmobile && sidebarvisible) {\n      options = { \n        paddingTopLeft: [CONFIG.sidebarwidth, CONFIG.mapPad],\n        paddingBottomRight: [ 0, CONFIG.mapPad]\n      };\n    }\n    return this.fitBounds(bounds, options);\n  };\n}\n\n// Tippy tooltips\nfunction initTippyTooltips() {\n  // not much to it: \n  tippy('.info-icon-wrap', {\n    trigger: 'click',\n    interactive: true,\n    allowHTML: true,\n  });\n}\n\n// D3 inits for scales, formatting functions and the like\nfunction initD3() {\n  // set up a linear scale for the sidebar \"chart\" bar widths above each country name\n  CONFIG.barscale = function(max) {\n    // from 2px to the width of the sidebar, minus sufficient padding to fit labels\n    // use the actual sidebar width here, not CONFIG.sidebarwidth, because on mobile, width is 100% \n    var range = [2, $(\"div#sidebar\").width() - 150];\n    var barscale = d3.scaleLinear()\n      .domain([0,max])\n      .range(range);    \n    return barscale;      \n  }\n\n  // set up formatting functions\n  CONFIG.format = {\n    \"megawatts\": function(n) { return d3.format(\",.0f\")(n) + \" MW\"; },\n    \"dollars\": function(n) { \n      if (n > 1000000) {\n        n = n / 1000000;\n        return d3.format(\"($,.0f\")(n) + \"M\";\n      } else {\n        return d3.format(\"($,.0f\")(n);\n      }\n    }\n  }\n\n  // set up a tooltip for the D3 elements\n  CONFIG.tooltip = d3.select(\"body\")\n    .append(\"div\")\n    .classed(\"map-tooltip\",true);\n\n  // function to calculate node cx\n  CONFIG.calc_node_cx = function(d) {\n    // note we have to swap lat/lng for x/y\n    let cx = CONFIG.map.latLngToLayerPoint([d.geometry.coordinates[1],d.geometry.coordinates[0]]).x;\n    if (!cx) return null;\n    return cx;\n  }\n\n\n  // function to calculate node cy\n  CONFIG.calc_node_cy = function(d) {\n    // note we have to swap lat/lng for x/y\n    let cy = CONFIG.map.latLngToLayerPoint([d.geometry.coordinates[1],d.geometry.coordinates[0]]).y;\n    if (!cy) return null;\n    return cy;\n  }\n\n  // function to calculate node radius based on inflows\n  CONFIG.calc_node_r_inflows = function(d) {\n    if (d.properties.aggregate_inflows == 0) return 0;\n    let diff = d.properties.aggregate_inflows - CONFIG.node_flow_range.min;\n    let range = CONFIG.node_flow_range.max - CONFIG.node_flow_range.min;\n    let r = (CONFIG.maxradius - CONFIG.minradius)*(diff/range) + CONFIG.minradius;\n    return r;\n  }\n\n  // function to calculate node radius based on outflows\n  CONFIG.calc_node_r_outflows = function(d) {\n    if (d.properties.aggregate_outflows == 0) return 0;\n    let diff = d.properties.aggregate_outflows - CONFIG.node_flow_range.min;\n    let range = CONFIG.node_flow_range.max - CONFIG.node_flow_range.min;\n    return (CONFIG.maxradius - CONFIG.minradius)*(diff/range) + CONFIG.minradius;\n  }\n\n  // Define the path drawing function used for links in drawLinks()\n  CONFIG.calc_link_path = function(d) {\n    // Setting these as constants\n    let sx = 0.4;\n    let sy = 0.1;\n\n    // Set control point inputs\n    let source = CONFIG.map.latLngToLayerPoint(d.source_coords),\n        target = CONFIG.map.latLngToLayerPoint(d.target_coords),\n        dx = source.x - target.x,\n        dy = source.y - target.y;\n\n    // Determine control point locations (note: there are additional options here in the original spatialsankey.js that we do not consider)\n    let controls;\n    if (dy < 0) {\n      controls = [sx*dx, sy*dy, sx*dx, sy*dy]\n    } else {\n      controls = [sy*dx, sx*dy, sy*dx, sx*dy]\n    }\n\n    let link = \"M\" + source.x + \",\" + source.y\n         + \"C\" + (source.x - controls[0]) + \",\" + (source.y - controls[1])\n         + \" \" + (target.x + controls[2]) + \",\" + (target.y + controls[3])\n         + \" \" + target.x + \",\" + target.y;\n  \n    // what the heck is this? \n    // let target = \"a\";\n\n    return link;\n  };\n\n  // The function that sets the link width based on data range and width range setting\n CONFIG.link_width_function = function(d) {\n    // Width range of lines, set min and max to be equal for a constant width\n    // these could be set elsewhere, but I've never felt the need to alter these defaults\n    let width_range = {min: 2, max: 20};\n\n    // Don't draw flows with zero flow unless zero is the minimum\n    if( d.flow == 0 && CONFIG.link_flow_range.min != 0 ) return 0;\n    // Calculate width value based on flow range\n    let diff = d.flow - CONFIG.link_flow_range.min;\n    let range = CONFIG.link_flow_range.max - CONFIG.link_flow_range.min;\n    return (width_range.max - width_range.min)*(diff/range) + width_range.min;\n  };\n}\n\n// initialize the map in the main navigation map tab\nfunction initMap() {\n  // basic leaflet map setup\n  CONFIG.map = L.map('map', {\n    attributionControl: false,\n    zoomControl: false,\n    minZoom: CONFIG.minzoom, maxZoom: CONFIG.maxzoom,\n  });\n\n  // map panes\n  // - create panes for the carto streets basemap and labels\n  CONFIG.map.createPane('basemap'); \n  CONFIG.map.getPane('basemap').style.zIndex = 200;\n  CONFIG.map.createPane('basemap-labels'); \n  CONFIG.map.getPane('basemap-labels').style.zIndex = 800;\n\n  // - create map panes for countries and country interactions, which will sit between the basemap and labels\n  CONFIG.map.createPane('country-outline');\n  CONFIG.map.getPane('country-outline').style.zIndex = 300;\n  CONFIG.map.createPane('country-hover');\n  CONFIG.map.getPane('country-hover').style.zIndex = 350;\n  CONFIG.map.createPane('country-select');\n  CONFIG.map.getPane('country-select').style.zIndex = 400;\n\n  // create an empty feature group to hold country borders/polygons, to highlight countries in the list\n  CONFIG.country_layers = L.featureGroup([], { pane: 'country-outline' }).addTo(CONFIG.map);\n\n  // add attribution\n  var credits = L.control.attribution({ \n    prefix: 'Interactive mapping by <a href=\"http://greeninfo.org\" target=\"_blank\">GreenInfo Network</a>. Data: <a href=\"https://globalenergymonitor.org/\" target=\"_blank\">Global Energy Monitor</a>',\n    position: 'bottomright' \n  }).addTo(CONFIG.map);\n\n  // add the custom zoom home control\n  new L.Control.ZoomBar({\n    position: 'bottomright',\n    // homeLatLng: [CONFIG.startlat, CONFIG.startlng],\n    // homeZoom: CONFIG.startzoom,\n    homeBounds: CONFIG.homebounds,\n  }).addTo(CONFIG.map);\n\n  // Fit the map to the homebounds \n  CONFIG.map.fitBoundsWithOffset(CONFIG.homebounds); \n\n  // add the one and only basemap, and labels\n  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}' + (L.Browser.retina ? '@2x.png' : '.png'), { pane: 'basemap' }).addTo(CONFIG.map);\n  L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_only_labels/{z}/{x}/{y}' + (L.Browser.retina ? '@2x.png' : '.png'), { pane: 'basemap-labels' }).addTo(CONFIG.map);\n\n  // init the svg layer for D3\n  var svglayer = L.svg();\n  svglayer.addTo(CONFIG.map);\n\n  // disable all map interactions through these divs\n  let divs = ['filter-outer', 'search-wrapper', 'chart-wrapper'];\n  divs.forEach(function(div) {\n    let el = document.getElementById(div);\n    L.DomEvent.on(el, \"click\", L.DomEvent.stopPropagation);\n    L.DomEvent.disableScrollPropagation(el);\n    L.DomEvent.disableClickPropagation(el);\n  })\n}\n\n// init the typeahead search\nfunction initSearch() {\n  CONFIG.search_input = $.typeahead({\n    input: \"input#search\",\n    minLength: 0, // make this > 0 so that the list doesn't show when you click the input\n    maxItem: 1000, // make this large enough so _everything_ shows in the list, nothing truncated\n    maxItemPerGroup: 250, // additive per group, until maxItem is reached\n    order: \"asc\",\n    hint: true,\n    searchOnFocus: true,\n    emptyTemplate: \"no result for {{query}}\",\n    correlativeTemplate: true,\n    group: true,\n    // see #44. This doesn't play well with dynamic options\n    dropdownFilter: false,\n    source: [], // empty initially, see initSearchTerms(); \n    debug: false,\n    // this seems to be the only api to the selected groups\n    // one still has to click the search button to trigger the search (though we could trigger it here on click)\n    callback: {\n      // called when the typeahead results open below the input#search\n      onShowLayout: function() {\n        // stop propogation to the map\n        let el = document.getElementsByClassName('typeahead__result')[0];\n        L.DomEvent.on(el, 'click', L.DomEvent.stopPropagation);\n        L.DomEvent.disableScrollPropagation(el);\n        L.DomEvent.disableClickPropagation(el);\n      },\n\n      // called when the typeahead results close \n      onHideLayout: function () {\n        // on mobile, loads of conflicts here between the search options and other elements\n        if (isMobile()) {\n          // undo the hide on open\n          $('div.toggle-wrapper').show();\n        };\n      },\n\n      // called after we click an item in the list\n      onClickAfter: function (node, a, item, event) {\n        // don't actually submit anything, yet\n        event.preventDefault;\n\n        // capture the clicked item, for use in our search filtering\n        // see #search-filter submit\n        CONFIG.filter = item;\n\n        // now submit, as requested per #32\n        $('form#search-form').submit()\n      },\n\n      // called any time there is text inside the input and it gets cleared (Backspace, Esc, Cancel button, etc).\n      onCancel: function(node, event) {\n        // clearing search serves as a reset\n        hideSearchResults();           \n        // if there is no event, then this was done programmatically (by setting search val to \"\")\n        // and we shouldn't do anything else\n        if (event) {\n          prepareMapAndCharts();\n          $(\"div.back\").hide(); // hide the back button\n        }\n      }\n    },\n  });\n\n  // typeahead search formatting\n  $(\"form#search-form\").on(\"submit\", function(e) {\n    e.preventDefault(); // don't actually submit, carry on below\n\n    // Data filtering: search input\n    // CONFIG.filter is populated when user clicks an item in the list\n    // CONFIG.filter.display is the value, CONFIG.filter.group is the group\n    if (CONFIG.filter) {\n      var match = CONFIG.filter.display;\n      var type = CONFIG.filter.group;\n      switch (type) {\n        case \"Source Country\": \n          prepareMapAndCharts({\n            type: \"source\",\n            targettype: \"project\",\n            key: \"source\", \n            value: match, \n            view: \"country\", \n            rescale: \"no\"\n          });\n          break; \n        case \"Recipient Country\":\n          prepareMapAndCharts({\n            type: \"target\",\n            targettype: \"project\",\n            key: \"country\", \n            value: match, \n            view: \"country\", \n            rescale: \"no\"\n          });\n          break;\n        case \"Financier\": \n          prepareMapAndCharts({\n            type: \"target\",\n            targettype: \"project\",\n            key: \"financer\", \n            value: match, \n            view: \"country\", \n            rescale: \"no\"\n          });\n          break; \n        case \"Project\":\n          prepareMapAndCharts({\n            type: \"target\",\n            targettype: \"project\",\n            key: \"target\", \n            value: match, \n            view: \"country\", \n            rescale: \"no\"\n          })\n          break;\n        default:\n          console.log(\"Search type undefined, that shouldn't happen\");\n          prepareMapAndCharts();\n      }\n\n      // wrap up by clearing the filter, to set it back to the default state \n      CONFIG.filter = null;\n    }\n  });\n}\n\n// Set up the search terms. These are set once on the era filtered data, and refreshed whenever changing era filter, units filter or domestic filter (but not other filters and toggles)\nfunction initSearchTerms() {\n  // create a list of projects in the data format needed by the search input\n  let projects = [...new Set(DATA.filtered.map(d => d.project_name))];\n  let project_search = projects.map(function(d) {\n    return {display: d}\n  });\n\n  // create a list of financers in the data format needed by the search input\n  let financers = [...new Set(DATA.filtered.map(d => d.financer))];\n  let financer_search = financers.map(function(d) {\n    return {display: d}\n  });\n\n  // create a list of source countries, and then a list in the data format needed by the search input\n  let sources = [...new Set(DATA.filtered.map(d => d.source))];\n  let source_search = sources.map(function(d) {\n    return {display: d}\n  });\n\n  // create a list of recipient countries, and then a list in the data format needed by the search input\n  let targets = [...new Set(DATA.filtered.map(d => d.country))];\n  let target_search = targets.map(function(d) {\n    return {display: d}\n  });\n\n  // Setup the search data\n  let search_data = {\n    \"Source Country\": { data: source_search },\n    \"Recipient Country\": { data: target_search },\n    \"Financier\": { data: financer_search},\n    \"Project\": { data: project_search},\n    // TO DO: given time and data\n    // \"Generator\": { data:},\n    // \"Turbine\": {},\n    // \"Construction\": {},\n  };\n\n  // init or refresh the data source for search\n  // from https://github.com/running-coder/jquery-typeahead/issues/374\n  CONFIG.search_input.options.source = search_data;\n  CONFIG.search_input.unifySourceFormat();\n  CONFIG.search_input.node.trigger('generate');\n\n  hideSearchResults(); // hide the list of search results that shows inexplicably\n}\n\n// init selects and other search widgets, toggles etc. \nfunction initSelects() {\n  // These first two filters (era and units) are \"primary\" filters, with slightly different behavior from the other selects\n\n  // The finance era select\n  $(\"select#era-select\").select2({\n    placeholder: \"Select a status\",\n    minimumResultsForSearch: -1,\n    dropdownCssClass: \"era-type-select2\"\n  }).on(\"change\", function() {\n    // hide the \"back\" button if visible\n    $(\"div.back\").hide(); \n\n    // enable/disable the related close_year select\n    if (this.value == 'closed') {\n       $(\"select#close_year\").prop(\"disabled\", false);\n     } else {\n       $(\"select#close_year\").val(null).trigger(\"change\").prop(\"disabled\", true);\n     }\n\n    // Prepare and draw everything \n    prepareMapAndCharts(); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n\n  // The units select\n  $(\"select#units-select\").select2({\n    placeholder: \"Select units\",\n    minimumResultsForSearch: -1,\n    dropdownCssClass: \"units-type-select2\"\n  }).on(\"change\", function() {\n    // hide the \"back\" button if visible\n    $(\"div.back\").hide(); \n\n    // Prepare and draw everything \n    prepareMapAndCharts(); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n\n  // The finance type select\n  $(\"select#finance_type\").select2({\n    placeholder: \"Select one or more types\",\n    minimumResultsForSearch: -1,\n    dropdownCssClass: \"units-type-select2\"\n  }).on(\"change\", function() {\n    // hide the \"back\" button if visible\n    $(\"div.back\").hide(); \n\n    // Prepare and draw everything \n    prepareMapAndCharts(); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n\n  // The financer type select\n  $(\"select#financer_type\").select2({\n    placeholder: \"Select one or more types\",\n    dropdownCssClass: \"financer-type-select2\"\n  }).on(\"change\", function() {\n    // Prepare and draw everything \n    prepareMapAndCharts({rescale: \"no\"}); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n\n  // The year select (\"close year\")\n  // first add years based on the current data\n  let year_select = $(\"select#close_year\");\n  CONFIG.years.forEach(function(year) {\n    if (!isNaN(year)) {\n      $(\"<option>\", {\n        text: year,\n        value: year,\n      }).appendTo(year_select);\n    }\n  });\n  year_select.select2({\n    placeholder: \"Select a year\",\n    minimumResultsForSearch: -1,\n    dropdownCssClass: \"close-year-select2\",\n    allowClear: true,\n    disabled: true, // disabled by default, until era changes to \"closed\" (see above)\n  }).on(\"change\", function() {\n    // Prepare and draw everything\n    prepareMapAndCharts({rescale: \"no\"}); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n\n  // The domestic/international filter\n  $(\"select#domestic_international\").select2({\n    placeholder: \"Select domestic or international\",\n    dropdownCssClass: \"domestic-intl-select2\",\n    allowClear: true,\n    minimumResultsForSearch: -1,\n  }).on(\"change\", function() {\n    // Prepare and draw everything \n    prepareMapAndCharts({rescale: \"no\"}); \n\n    // reinit the search terms after data is filtered\n    initSearchTerms();\n  });\n}\n\n// various button and link inits\nfunction initButtons() {\n  // init the back button, essentially a \"clear\" or \"home\" type action\n  // on the currently selected data (current/future)\n  $(\"div#sidebar div.back\").on(\"click\", function() { \n    $(\"div.back\").hide();                 // hide the back \"button\"\n    prepareMapAndCharts();                // kick off a new map showing everything, with defaults\n    $('input#search').val('');            // clear any value in the search input\n  });\n\n  // sidebar close and open buttons\n  $('div#sidebar a.close').on(\"click\", function(){\n    $('div#sidebar').css({'left': -800});\n  });\n\n  // map hamburger to re-open sidebar\n  $('div#sidebarHamburger').on(\"click\", function(){\n    $('div#sidebar').css({'left': 0});\n  });\n\n  // show/hide the chart\n  $(\"div#chart-toggle span\").on(\"click\", function() {\n    let button = $(this);\n    if (button.data().state == \"show\") {\n      $(\"div#chart\").show();\n    } else {\n      $(\"div#chart\").hide();\n    }\n    button.hide();\n    button.siblings(\"span\").show();\n  });\n\n  // show/hide the filters\n  $(\"div#filter-toggle span\").on(\"click\", function() {\n    let button = $(this);\n    if (button.data().state == \"show\") {\n      $(\"div#select-wrapper\").show();\n      $(\"div#filter-outer div#reset\").show();\n    } else {\n      $(\"div#select-wrapper\").hide();\n      $(\"div#filter-outer div#reset\").hide();\n    }\n    button.hide();\n    button.siblings(\"span\").show();\n  });\n\n  // minimize chart and filters on mobile\n  // (note: chart does not show at all below 768px)\n  if (isMobile()) {\n    $(\"div#chart-toggle span[data-state='hide']\").click();\n    $(\"div#filter-toggle span[data-state='hide']\").click();\n  };\n\n  // reset button below the filters\n  $(\"div#reset span\").on(\"click\", function() {\n    // reset all filters, with change namespaced to select2\n    $(\"select#domestic_international\").val(\"\").trigger(\"change.select2\");\n    $(\"select#units-select\").val(\"megawatts\").trigger(\"change.select2\");\n    $(\"select#era-select\").val(\"financing\").trigger(\"change.select2\");\n    $(\"select#close_year\").val(\"\").trigger(\"change.select2\");\n    $(\"select#financer_type\").val([]).trigger(\"change.select2\");\n\n    // reset the search input while we're at it\n    $(\"input#search\").val(\"\");\n    $(\"input#search\").trigger(\"input.typeahead\"); // or .trigger('propertychange.typeahead');\n    hideSearchResults();\n\n    // now kick off the data filtering and mapping\n    setTimeout(function() {\n      prepareMapAndCharts();\n    }, 20);\n  })\n\n}\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// NAMED FUNCTIONS \n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n// Primary rendering function to update the map, the pie chart, sidebar, et al.\n// We filter the data at this step, given the current set of filters\nfunction prepareMapAndCharts(args={}) {\n  // set args and default args\n  let view        = args.view || \"global\";         // global or single country view\n  let type        = args.type || \"source\";         // source or target \n  let targettype  = args.targettype || \"country\";  // targettype: country or project\n  let key         = args.key || null;              // the relevant field for the \"search\" in question: e.g. country, source, target, financer, project, financer_type, year etc. \n  let value       = args.value || null;            // the value (e.g. 1984) to match against the selected field/key (e.g. year)\n  let rescale     = args.rescale || true;          // rescale the Sankey on the current data, or use flow min-max from an existing Sankey \n\n  // Data setup\n  // the data we use is different for different views:\n  // Global view gets country to country data\n  // Country view get country to project data\n  // Financer view gets country to project data\n  // Project view gets country to project data\n  let data;\n  if (view == \"global\") {\n    data = DATA.target_countries;\n  } else {\n    data = DATA.target_projects;\n  }\n\n  // Filtering setup\n  // get the selected era from the checkbox at top right of the map and filter the data for it\n  let era = $(\"select#era-select\").val();\n\n  // get the selected finance type from the dropdown\n  let finance_type = $(\"select#finance_type\").val();\n\n  // get the selected institution type from the dropdown\n  let financer_type = $(\"select#financer_type\").val();\n\n  // get the selected close year from the dropdown\n  let close_year = $(\"select#close_year\").val(); \n\n  // get the \"domestic\" search value from the domestic search input\n  let domestic_intl = $(\"select#domestic_international\").val();\n\n  // get and set the units flag, see createLinks()\n  CONFIG.units = $(\"select#units-select\").val();\n  \n  // Filtering data: filter raw data by user selections for era, finance type and year\n  // Country, financer, project and handled by key/value settings\n  // Units is simply for display, not filtering\n  DATA.filtered = data.filter(function(d) {\n    // era filter\n    if (d.era != era) return false;\n\n    // finance type filter: multiple\n    if (finance_type.length) {\n      // if the current finance type doesn't match any of the selected, then pass\n      if (finance_type.indexOf(d.finance_type) == -1) return false;\n    };\n    \n    // institution type filter: multiple\n    if (financer_type.length) {\n      // if the current financer type doesn't match any of the selected, then pass\n      if (financer_type.indexOf(d.financer_type) == -1) return false;\n    };\n\n    // close year: match a single year from user selection\n    if (close_year && close_year != d.close_year) return false;\n\n    // if denominating in Dollars, only collect rows with non-zero dollar amounts\n    if (CONFIG.units == \"dollars\" && ! d.dollars) return false; \n    \n    // if \"domestic\" search, then only return source == country\n    // for \"international\" search, then only return source != country\n    if (domestic_intl) {\n      if (domestic_intl == \"domestic\" && d.source != d.country) return false;\n      if (domestic_intl == \"international\" && d.source == d.country) return false;\n    } \n\n    // secondary filter, based on an arbitrary key (field name in data.csv) and value pair\n    // key can include country name, financer, project_name ...\n    if (key && d[key] != value) return false;\n    \n    // If we got this far, then it's a match\n    return true;\n  });\n  // warn the user if there was nothing selected\n  if (! DATA.filtered.length) {\n    // open a \"Sweet Alert\"\n    swal(\"No data in selection!\", \"Please try a different set of filters\", \"error\");\n    return false;\n  }\n\n  // create the node features and link data needed for the spatial sankey \n  let links = createLinks();\n  let nodes = createNodes(links);\n\n  // Node and Flow Ranges: only calculate or recalulate these if requested\n  if (rescale === true) {\n    // calculate these ranges from the existing set of nodes and links\n    CONFIG.node_flow_range = calcNodeFlowRange(nodes);\n    CONFIG.link_flow_range = calcLinkFlowRange(links);\n  }\n\n  // always do this, so the SVG lines up with the map for this set of nodes/links\n  updateZoomEnd();\n\n  // Update content: \n  // Two primary view types, a global view (centroid to centroid), \n  // and a country view (centoid to project)\n  if (view == 'global') {\n    // Global View: centroid to centroid\n    // Draw the map, charts, sidebar, etc.\n    let fitmap = true;\n    drawMap(nodes, links, \"country\", fitmap);\n    drawLegend({source: \"Financing Country\", target: \"Recipient Country\"});\n    drawGlobalSidebar(nodes);\n    drawPieChart();\n  } else {\n    // Country view: centroid to project\n    // Draw the map, charts, sidebar, etc.\n    let fitmap = false;\n    if (key == \"country\" || key == \"financer\" || key == \"source\") fitmap = true;\n    drawMap(nodes, links, \"project\", fitmap);\n    drawLegend({source: \"Financiers\", target: \"Projects\"});\n    drawCountrySidebar({\n      nodes: nodes, \n      view: view, \n      type: type,\n      targettype: \"project\", \n      key: key, \n      value: value\n    });\n    drawPieChart();\n    // console.log('targettype:', 'project');\n    // console.log('view:', view);\n    // console.log('type:', type);\n    // console.log('key:', key);\n    // console.log('value:', value);\n  }\n\n}\n\n// get a single feature, given a matching name\nfunction getSingleFeatureByCountryName(country) {\n  var feature = CONFIG.spatialsankey.nodes().filter(function(d) {\n    return d.id == country;\n  });\n  return feature[0];\n}\n\n// the main map drawing API, which takes in data and draws the nodes and links\nfunction drawMap(nodes, links, targettype, fitmap=false) {    \n  // add country outlines for this set of features\n  var countries = nodes.map(function(c) {\n    return c.country;\n  });\n\n  drawCountryBoundaries(countries);\n\n  // Select and clear the svg element to work with\n  var overlay_pane = d3.select(\"div#map\").select(\"div.leaflet-overlay-pane\")\n  var svg = overlay_pane.select(\"svg\");\n  // this seems relevant to animation with data/enter/update/exit/remove ??\n  svg.selectAll(\"*\").remove();\n  CONFIG.linklayer = svg.append(\"g\");\n  CONFIG.circlelayer = svg.append(\"g\");\n\n  // draw all map objects: links, source nodes, target nodes, legend  \n  drawLinks(links, 'light');\n  drawTargetCircles(nodes, CONFIG.targetcolor, targettype);\n  drawSourceCircles(nodes, CONFIG.sourcecolor);\n\n  // zoom to the extent of all features (all sources and targets)\n  // currently, we only do this for \"country\" and \"financer\" clicks - where focus is on a single country or financer  \n  if (fitmap) fitMapToFeatures(nodes);\n}\n\n// update two map lengends\n// One with labels for source/targerts\n// Another that indicates what the size of country circles indicates in terms of MW/$$\nfunction drawLegend(args) {\n  // Update source/Target legend:\n  $('.country-legend-label.source').text(args.source);\n  $('.country-legend-label.target').text(args.target);\n\n  // Create circle legend: \n  // remove existing legend \n  d3.select(\"div#map\").select(\"svg.legend\").remove();\n\n  // grab ahold of the biggest and smallest circle values\n  let min = CONFIG.node_flow_range.min;\n  let max = CONFIG.node_flow_range.max;\n\n  var svg = d3.select(\"div#map\")\n    .append(\"svg\")\n      .attr(\"width\", CONFIG.maxradius * 2 + 20)\n      .attr(\"height\", CONFIG.maxradius* 2 + 30)\n      .classed(\"legend\", true);\n\n  var container = svg.append(\"g\")\n      .attr(\"transform\",`translate(${CONFIG.maxradius + 10},${CONFIG.maxradius + 20})`);\n\n  // add the circles\n  // first the max circle, and label\n  container\n    .append(\"circle\")\n      .attr(\"stroke\", \"#777\")\n      .attr(\"fill\", \"white\")\n      .attr(\"fill-opacity\", \"0.28\")\n      .attr(\"r\", CONFIG.maxradius);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", \"50%\")\n      .attr(\"y\", \"10\")\n      .attr(\"dominant-baseline\",\"middle\") \n      .attr(\"text-anchor\",\"middle\")\n      .text(CONFIG.format[CONFIG.units](max))\n      .attr(\"fill\", \"#777\");\n\n  // append the \"min\" circle and label  \n  container\n    .append(\"circle\")\n      .attr(\"stroke\", \"#777\")\n      .attr(\"fill\", \"white\")\n      // half the big circle opacity, so they appear to be the same \"color\"\n      .attr(\"fill-opacity\", \"0.14\")\n    .attr(\"cy\", `${CONFIG.maxradius - 10}`)\n    .attr(\"r\", CONFIG.minradius);\n\n    svg\n      .append(\"text\")\n      .attr(\"x\", \"50%\")\n      .attr(\"y\", \"60%\")\n      .attr(\"dominant-baseline\",\"middle\") \n      .attr(\"text-anchor\",\"middle\")\n      .text(CONFIG.format[CONFIG.units](min))\n      .attr(\"fill\", \"#777\");\n}\n\n// draw a pie chart showing Financer Type breakdown for the current set of filtered data\nfunction drawPieChart() {\n  let config = {\n    chart: {\n      plotBackgroundColor: null,\n      plotBorderWidth: null,\n      plotShadow: false,\n      type: 'pie',\n      spacing: [10,5,5,5], // default is [10,10,15,10]\n    },\n    legend: {\n      itemStyle: {\n        textOverflow: null,\n        fontFamily: \"Open Sans\"\n      },\n      style: {\n        fontSize: \"13px\",\n      },\n\n    },\n    title: {\n      text: `Percent ${CONFIG.units == \"megawatts\" ? \"Capacity\" : \"Funding\"} by Institution Type`,\n      margin: 10,\n      style: {\n        fontSize: \"13px\",\n        fontFamily: \"Open Sans\"\n      }\n    },\n    tooltip: {\n      pointFormat: \"{series.name}: <b>{point.percentage:.1f}%</b>\"\n    },\n    accessibility: {\n      point: {\n        valueSuffix: \"%\"\n      }\n    },\n    plotOptions: {\n      pie: {\n        allowPointSelect: true,\n        cursor: \"pointer\",\n        dataLabels: {\n          enabled: false,\n        },\n        showInLegend: true,\n      }\n    },\n    series: [{\n      name: \"Percent\",\n      colorByPoint: true,\n      size: '120%',\n      innerSize: '40%',\n    }]\n  }\n\n  // get the data in the format HC needs\n  let financers = uniqueByKey(DATA.filtered, \"financer_type\");\n  let output = []; \n  let total = DATA.filtered.reduce((total, item) => item[CONFIG.units] + total, 0);\n  financers.forEach(function(f) {\n    let sum = 0; \n    DATA.filtered.forEach(function(item) {\n      if (item.financer_type == f) {\n        sum += item[CONFIG.units];\n      }\n    });\n    let percent = ( sum / total ) * 100;\n\n    let result = {\n      name: f,\n      y: percent,\n      color: CONFIG.piechart_colors[f],\n    }\n    output.push(result);\n  });\n  // add the data to the series\n  config.series[0].data = output;\n\n  // debugger;\n\n  // render the chart\n  Highcharts.chart('chart', config); \n}\n\n\n// given an array of country names, add country boundaries to the map\nfunction drawCountryBoundaries(countries, zoomto=false) {\n  // first clear existing layers\n  CONFIG.country_layers.clearLayers();\n  // now add the new set\n  var country_layer = L.geoJSON(DATA.country_data, {\n    pane: \"country-outline\", \n    style: CONFIG.country_style,\n    interactive: false, // no click functionality, see #23\n    filter: function(feature) {\n      if (countries.indexOf(feature.properties.NAME) > -1) return true;\n    }\n  }).addTo(CONFIG.country_layers);\n\n  // optionally, zoom the map to fitBounds on the result\n  if (zoomto) CONFIG.map.fitBoundsWithOffset(country_layer.getBounds());\n}\n\n// hack. Something somewhere causes the search dropdown result list to open onClear, etc., each time we renew the search terms\n// so use a background click to hide it. It will show again when needed\nfunction hideSearchResults() {\n  setTimeout(function() {\n    $(\"body\").click(); \n  }, 50);\n}\n\n// // Clear the search input when changing filters\n// function clearSearchInput() {\n//   $(\"input#search\").val(\"\");\n//   $(\"input#search\").trigger(\"input.typeahead\"); // or .trigger('propertychange.typeahead');\n//   hideSearchResults();\n// }\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// SIDEBAR RELATED FUNCTIONS \n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// update the sidebar results from the current Spatial Sankey\nfunction drawGlobalSidebar(nodes) {\n  // hide the other sidebars, and show this one\n  $(\"div#sidebar div.sidebar\").hide();\n  $(\"div#sidebar div#global-content\").show();\n\n  /*\n   * GLOBAL SIDEBAR TOP SECTION: OUTFLOWS\n   */\n  // For the top section, sum and sort outflows\n  // beware: some countries have both inflows and outflows, and we have to account for that, so they don't get listed twice\n  var country_list = [];\n  var outflows = nodes.reduce(function(result, feature) {\n    // only grab countries with an outflow\n    if (feature.properties.aggregate_outflows) {\n      // only continue if we haven't encountered this country\n      if (country_list.indexOf(feature.id) == -1) {\n        // not a duplicate, add it to the result, and add an entry to the list of countries to check\n        result.push({\n          key: \"country\",\n          value: feature.id, \n          flow: feature.properties.aggregate_outflows, \n          type: \"source\", \n        });\n        country_list.push(feature.id); \n      }\n    }\n    return result;\n  }, []);\n\n  // sort the result\n  var sorted = _.orderBy(outflows, ['flow'],['desc']);\n  // create the rows\n  var outflow_rows = d3.select(\"div#global-content div.source-panel div.results\").selectAll(\"div.row\")\n    .data(sorted);\n\n  // use the first value from sorted to set up the barscale, to size the bar widths, below\n  // keep track of max flow value (so far) for the barscale (see below)\n  var max = sorted[0].flow;\n\n  // Add chart rows for each outflow\n  // update\n  outflow_rows.classed(\"row\", true);\n  // append new ones\n  outflow_rows.enter()\n    .append(\"div\")\n    .classed(\"row\", true);\n  // exit\n  outflow_rows.exit()\n    .remove();\n\n  /*\n   * GLOBAL SIDEBAR BOTTOM SECTION: INFLOWS\n   */\n  // For the bottom section, sum and sort inflows\n  var country_list = [];\n  var inflows = nodes.reduce(function(result, feature) {\n    // only grab countries with an inflow\n    if (feature.properties.aggregate_inflows) { \n      // only continue if we haven't encountered this country\n      if (country_list.indexOf(feature.id) == -1) {\n        // not a duplicate, add it to the result, and add an entry to the list of countries to check\n        result.push({\n          key: \"country\",\n          value: feature.id, \n          flow: feature.properties.aggregate_inflows, \n          type: \"target\", \n        });\n        country_list.push(feature.id); \n      }\n    }\n    return result;\n  }, []);\n\n  // sort the result\n  var sorted = _.orderBy(inflows, [\"flow\"],[\"desc\"]);\n  // create the rows\n  var inflow_rows = d3.select(\"div#global-content div.target-panel div.results\").selectAll(\"div.row\")\n    .data(sorted);\n\n  /*\n   * GLOBAL SIDEBAR TOP AND BOTTOM SECTION: Construct chart rows\n   */\n  // update\n  inflow_rows.classed(\"row\", true);\n  // enter new ones\n  inflow_rows.enter()\n    .append(\"div\")\n    .classed(\"row\", true);\n  // exit\n  inflow_rows.exit()\n    .remove();\n\n  // use the max value from the two sorts to set up the barscale, to size the bar widths, below\n  var max = sorted[0].flow > max ? sorted[0].flow : max;\n  var barscale = CONFIG.barscale(max);\n\n  // sub-elements for all rows: first a wrapper div\n  d3.selectAll(\"div.chartrow\").remove();\n  var chartrow = d3.selectAll(\"div.row\").selectAll(\"div.chartrow\")\n    .data(function(d) {return [d]})\n    .enter()\n    .append(\"div\")\n    .classed(\"chartrow\", true)\n    .attr(\"title\", \"Click for additional details\")\n    .attr(\"data-type\", function(d) {return d.type})\n    .attr(\"data-value\", function(d) {return d.value})\n    .attr(\"data-key\", function(d) { return d.type == \"source\" ? \"source\" : \"country\"})\n    .on(\"click\", function(d) {\n      // get the clicked country\n      var item = d3.select(this).node();\n      var value = item.dataset.value;\n      var type = item.dataset.type;\n      var key = item.dataset.key;\n      // source or target country search, depending on the type of bar clicked\n      prepareMapAndCharts({\n        view: \"country\",\n        key: key,\n        value: value, \n        type: type,\n        targettype: \"project\",\n        rescale: \"no\"\n      });\n    });\n  \n  // now append siblings to the wrapper div: \n  // the bar itself\n  chartrow.append(\"div\")\n    .attr(\"class\", function(d) { return d.type })\n    .classed(\"bar\", true);\n\n  d3.selectAll(\"div.bar\")\n    // transition may not show on initial load because not on page? \n    .transition()\n    .duration(1000)\n    .style(\"width\", function(d) { return barscale(d.flow) + \"px\" });\n  \n  // a units label for the bar\n  chartrow.append(\"div\")\n    .classed(\"units-label\", true)\n    .text(function(d) { return CONFIG.format[CONFIG.units](d.flow) });\n\n  // and a name below each bar\n  chartrow\n    .append(\"div\")\n    .classed(\"name-label\", true)\n    .text(function(d) { return d.value });\n\n}\n\n// Draw function for a single country sidebar, either source or target\nfunction drawCountrySidebar(args) {\n  // get or set args\n  let view        = args.view;\n  let type        = args.type;\n  let targettype  = args.targettype;\n  let key         = args.key;\n  let value       = args.value;\n  let nodes       = args.nodes;\n\n  // hide the other sidebars, and show this one\n  $(\"div#sidebar div.sidebar\").hide();\n  $(\"div#sidebar div#country-content\").show();\n\n  // Reset the label in the Projects section to simply read \"Projects\" again\n  $(\"div.projects h3 #institution-name\").text(\"\");\n\n  // show the back \"button\"\n  $(\"div.back\").show();\n\n  // Set the background color for the title in the sidebar\n  let bgcolor = type == \"source\" ? CONFIG.sourcecolor : CONFIG.targetcolor;\n  let bgcolor_light = type == \"source\" ? CONFIG.sourcecolor_light : CONFIG.targetcolor_light;\n  $(\"div#sidebar div#country-content div.title-wrapper\").css({background: bgcolor_light}); \n  $(\"div#sidebar div#country-content div.country-title\").css({background: bgcolor}); \n\n  // Update the country or project name at the top of the title bar\n  $(\"div#sidebar div.country-title div.name\").text(value);\n  \n  // Update the label below the country or project name\n  var text = \"Financing Country\";\n  if (type == \"target\") text = \"Recipient Country\";\n  if (key == \"financer\") text = \"Financier\";\n  if (key == \"target\" && targettype == \"project\") text = \"Recipient Project\";\n  $(\"div#sidebar div.country-label\").text(text);\n\n  // Set panel heights: This has to be dynamic, as the header with the title can be one or multiple lines, depending on the value\n  let title_height = $(\"div#country-content div.title-wrapper\").height();\n  let window_height = $(window).height();\n  let panel_height = (window_height - title_height) / 2;\n  $(\"div#country-content div.results\").height(panel_height - 50);\n\n  /*\n   * COUNTRY SIDEBAR TOP SECTION: OUTFLOWS\n   */\n  // For the top section, for this country, get all contributions by financer and project\n  // We can't use the Sankey directly (at least not easily) as we want to show individual financers, not countries\n  let filtered = DATA.filtered.reduce(function(result, row) {\n    if (row[key] == value) { \n      result.push({\n        financer: row.financer, \n        unit: row.unit,\n        name_unit_concat: row.financer + \"##\" + row.unit, \n        project: row.project_name, \n        units: row[CONFIG.units], \n        type: type});\n    }\n    return result;\n  }, []);\n\n  // first, get the mean flow by _unique_ financer/unit we created above\n  // taking the mean takes care of duplicate rows in the groupBy \n  let financers_units = _(filtered)\n      .groupBy(\"name_unit_concat\")\n      .map((objs, key) => ({\n        \"name\": objs[0].financer,\n        \"type\": type,\n        \"flow\": _.meanBy(objs, \"units\"), \n      }))\n      .value();\n\n  // then a second groupBy of that, to get the sum at the level of the financer\n  var financers = _(financers_units)\n      .groupBy(\"name\")\n      .map((objs, item) => ({\n        \"value\": item,\n        \"type\": type,\n        \"key\": \"financer\",\n        \"flow\": _.sumBy(objs, \"flow\"), \n      }))\n      .value();\n\n  // sort the result, and add the sorted data to a selection\n  var sorted = _.orderBy(financers, [\"flow\"],[\"desc\"]);\n  var financer_rows = d3.select(\"div#country-content div.institutions div.results\").selectAll(\"div.row\")\n    .data(sorted);\n\n  // keep track of the max value (so far), see below\n  var max = sorted[0].flow;\n\n  // Add chart rows for each Country\n  // update\n  financer_rows.classed(\"row\", true);\n  // append new ones\n  financer_rows.enter()\n    .append(\"div\")\n    .classed(\"row\", true);\n  // exit\n  financer_rows.exit()\n    .remove();\n\n  /*\n   * COUNTRY SIDEBAR BOTTOM SECTION: INFLOWS\n   */\n  // For the bottom section, sum and sort inflows\n  // Here, inflows for the chart can be calculated directly from the Sankey nodes\n  var country_list = [];\n  var inflows = nodes.reduce(function(result, feature) {\n    // only grab countries with an inflow\n    if (feature.properties.aggregate_inflows) { \n      // only continue if we haven't encountered this country\n      if (country_list.indexOf(feature.id) == -1) {\n        // not a duplicate, add it to the result, and add an entry to the list of countries to check\n        result.push({\n          key: \"target\", // in project data, target is project_name\n          value: feature.id, \n          flow: feature.properties.aggregate_inflows, \n          type: \"target\",\n          targettype: targettype,\n        });\n        country_list.push(feature.id); \n      }\n    }\n    return result;\n  }, []);\n\n  // sort the result, and add the sorted data to a selection\n  var sorted = _.orderBy(inflows, [\"flow\"],[\"desc\"]);\n  var project_rows = d3.select(\"div#country-content div.projects div.results\").selectAll(\"div.row\")\n    .data(sorted);\n\n  /* \n   * COUNTRY SIDEBAR: CONSTRUCT ALL CHART ROWS, TOP AND BOTTOM\n   */\n  // Add chart rows for each Project\n  // update\n  project_rows.classed(\"row\", true);\n  // enter new ones\n  project_rows.enter()\n    .append(\"div\")\n    .classed(\"row\", true);\n  // exit\n  project_rows.exit()\n    .remove();\n\n  // use the first value from sorted to set up the barscale, to size the bar widths, below\n  var max = sorted[0].flow > max ? sorted[0].flow : max;\n  var barscale = CONFIG.barscale(max);\n\n  // sub-elements for all rows: first a wrapper div\n  d3.selectAll(\"div.chartrow\").remove();\n  var chartrow = d3.selectAll(\"div.row\").selectAll(\"div.chartrow\")\n    .data(function(d) {return [d]})\n    .enter()\n    .append(\"div\")\n    .classed(\"chartrow\", true)\n    .attr(\"data-type\", function(d) {return d.type})\n    .attr(\"data-targettype\", function(d) {return d.targettype})\n    .attr(\"data-key\", function(d) {return d.key})\n    .attr(\"data-value\", function(d) {return d.value})\n    .attr(\"title\", \"Click for additional details\")\n    .on(\"click\", function(d) {\n      // get the clicked item\n      let item = d3.select(this).node();\n      let key = item.dataset.key;\n      let value = item.dataset.value;\n      let type = item.dataset.type;\n      let targettype = item.dataset.targettype;\n      \n      // financer or project search, depending on the bar clicked\n      prepareMapAndCharts({\n        view: \"country\", \n        key: key, \n        value: value, \n        type: type,\n        targettype: targettype,\n        rescale: \"no\"\n      });\n    });\n\n  // now append siblings to the wrapper div: \n  // the bar itself\n  chartrow.append(\"div\")\n    .attr(\"class\", function(d) {return d.type})\n    .classed(\"cancelled\", function(d) { return d.flow == 0 })\n    .classed(\"bar\", true);\n\n  d3.selectAll(\"div.bar\")\n    // may not show on initial load because not on page? \n    .transition()\n    .duration(1000)\n    .style(\"width\", function(d) { \n      let width = d.flow == 0 ? \"0px\" : barscale(d.flow) + \"px\";\n      return width;\n    });\n  \n  // a units label for the bar\n  chartrow.append(\"div\")\n    .classed(\"units-label\", true)\n    .classed(\"cancelled\", function(d) { return d.flow == 0 })\n    .text(function(d) { return CONFIG.format[CONFIG.units](d.flow) });\n\n  // and a name below each bar\n  chartrow\n    .append(\"div\")\n    .classed(\"name-label\", true)\n    .text(function(d) { return d.value });\n\n  // additional content for a single project view: Add Units\n  $(\"div#country-content div.projects div.results div#units-wrapper\").remove();\n  if (key == \"target\" && targettype == \"project\") {\n    let target = $(\"div#country-content div.projects div.results\");\n    let wrapper = $(\"<div>\", { id: \"units-wrapper\" }).appendTo(target);\n    $(\"<h5>\", {text: \"Units\"}).appendTo(wrapper);\n  \n    // get the unique set of units\n    let units = uniqueByKey(DATA.filtered, \"unit\");\n    let units_financers = [];\n    // Unit markup and other details TBD\n    units.forEach(function(unit) {\n      let details = { key: unit, values: [] };\n      let filtered = DATA.filtered.filter(function(z) { return z.unit == unit });\n      details.wiki = filtered[0].wiki; // okay to grab the first, wiki page is the same for each unit row\n      details.flow = CONFIG.format[CONFIG.units](filtered[0][CONFIG.units]); // okay to grab the first, flow will be the same for each unit row\n      filtered.forEach(function(d) {\n        details.values.push(`${d.financer} (${CONFIG.format[CONFIG.units](d[CONFIG.units])})`);\n      });\n      units_financers.push(details);\n    });\n\n    units.forEach(function(unit) {\n      units_financers.forEach(function(e) {\n        if (e.key == unit) {\n          let outer = $(\"<div>\", {html: `<a href=${e.wiki} target=\"_blank\">${unit} (${e.flow})&nbsp;<i class=\"fas fa-external-link-alt\"></i></a>`, class: 'unit-details'}).appendTo(wrapper);\n          let html = e.values.join(\", \");\n          $(\"<div>\", {\n            html: html,\n          }).appendTo(outer);\n        }\n      })\n    });\n\n  }\n\n\n}\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// SANKEY RELATED FUNCTIONS \n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// derive a set of links from the filtered data\n// a link shows a source country, a target country or project, and a sum or \"flow\" between the two\n// target type is either country or project\nfunction createLinks() {\n  // set up the output\n  var links = [];\n\n  // get a unique list of sources\n  var sources = uniqueByKey(DATA.filtered, \"source\");\n  sources.forEach(function(source) {\n    // get a list of source rows that match this source, from the incoming data\n    var source_data = DATA.filtered.filter(function(d) {return d.source == source});\n    // get a list of targets for this one country or financer\n    var targets = uniqueByKey(source_data, \"target\");\n    // keep a list of projects, to avoid double counting MW for duplicate project rows\n    var units = [];\n    targets.forEach(function(target) {\n      // get all the unit rows from the source country to the target country or project\n      let source_target_data = source_data.filter(function(c) { return c.target == target });\n      \n      var total_flow = 0;\n      source_target_data.forEach(function(e) {\n        // if we are accounting in MW, _and_ we already encountered this unit, then skip it\n        // for MW, we only count projects one time\n        if (CONFIG.units == \"megawatts\" && units.indexOf(e.unit) > -1) return; \n        units.push(e.unit);\n        total_flow += e[CONFIG.units];\n      });\n\n      // now construct the link. Because e.source and e.target are the same for every object in source_target_data, \n      // just grab the first one \n      var datum = source_target_data[0];\n      var link = {\n        source: datum.source,\n        target: datum.target,\n        flow: total_flow,\n        target_country: datum.country,\n        source_coords: [parseFloat(datum.source_lat), parseFloat(datum.source_lng)],\n        target_coords: [parseFloat(datum.target_lat), parseFloat(datum.target_lng)]\n      }\n\n      // all set! add it to the list\n      links.push(link);\n    });\n  });  \n  // all set!\n  return links;\n}\n\n// create the unique set of GeoJSON features needed for d3.spatialsankey()\n// targets can be country centroids or project locations, depending on the view\nfunction createNodes(links) {\n  // set up the output \n  const nodes = [];\n  // for removing duplicates - we only need one feature for each source, and one for each target\n  const source_countries = [];\n  const target_locations = [];\n\n  // Go over each link and do the following\n  // 1. create a source node (if one not already present)\n  // 2. calculate aggregate inflows and outflows for the source node, and save these as properties\n  // 3. create a target node (if one not already present)\n  // 4. calculate aggregate inflows and outflows for the target node, and save these as properties\n  // Q: Why can't we just use the flow calculated on the link? Because using flows directly will double count project MW coming from multiple sources to the same project/unit\n  links.forEach(function(link) {\n    // SOURCES: always a country centroid\n    let source = link.source; \n    if (source_countries.indexOf(source) == -1) {\n      // set up the feature\n      let feature = createNodeFeature(link, \"source\");\n    \n      // get the set of all rows for this source, and sum flow for project units\n      // the method for summing is different for MW and $$: \n      // - MW repeat across rows of units with the same name, but we only count them once (get distinct units then sum MW)\n      // - $$ is a simple sum\n      let units = [];\n      let total_flow = 0;\n      let country_data = DATA.filtered.filter(function(d) { return d.source == source });\n      country_data.forEach(function(d) {\n        if (CONFIG.units == \"megawatts\" && units.indexOf(d.unit) > -1) return; \n        units.push(d.unit); // track that we've recorded this one\n        console.log(source)\n        // console.log(unit)\n        console.log(units)\n        total_flow += d[CONFIG.units];\n        console.log(total_flow)\n      });\n\n      // stamp the feature with this total flow, and push it to the collection of nodes\n      feature.properties.aggregate_outflows = total_flow;\n      feature.properties.flow = total_flow; // keep a copy for calculating global min/max flow\n      console.log(total_flow)\n      nodes.push(feature);\n      source_countries.push(source); // note that we're done with this one \n    }\n\n    // TARGETS: can be a country centroid, or a project location\n    let target = link.target;\n    if (target_locations.indexOf(target) == -1) {\n      // set up the feature\n      let feature = createNodeFeature(link, \"target\");\n\n      // get the set of all rows for this target, and sum flow for unique project units\n      // the method for summing is different for MW and $$: \n      // - MW repeat across rows of units with the same name, but we only count them once (get distinct units then sum MW)\n      // - $$ is a simple sum\n      let units = [];\n      let total_flow = 0;\n      let country_data = DATA.filtered.filter(function(d) { return d.target == target });\n\n      country_data.forEach(function(d) {\n        if (CONFIG.units == \"megawatts\" && units.indexOf(d.unit) > -1) return; \n        units.push(d.unit); // track that we've recorded this one\n        total_flow += d[CONFIG.units];\n      });\n\n      // stamp the feature with this total flow\n      feature.properties.aggregate_inflows = total_flow;\n      feature.properties.flow = total_flow; // keep a copy for calculating global min/max flow\n\n      nodes.push(feature);\n      target_locations.push(target); // note that we're done with this one\n    }\n  })\n  // all set\n  return nodes;\n}\n\n// utility function that returns a geojson feature for a \"node\"\nfunction createNodeFeature(d, type) {\n  let countryfield;\n  let coordsfield = type == \"source\" ? \"source_coords\" : \"target_coords\";\n  let lat, lng;\n  if (type == \"source\") {\n    lat = d.source_coords[0]; \n    lng = d.source_coords[1];\n    countryfield = \"source\";\n  } else {\n    lat = d.target_coords[0];\n    lng = d.target_coords[1];\n    countryfield = \"target_country\";\n  }\n\n  // create the feature\n  let feature = {\n    type: \"Feature\",\n    id: d[type],\n    country: d[countryfield], \n    properties: {\n      \"LAT\": lat,\n      \"LON\": lng,\n      \"circletype\": type,\n    },\n    geometry: {\n      type: \"Point\",\n      coordinates: [lng, lat]\n    }\n  };\n  return feature;\n}\n\n// get min and max from the current set of node flow ranges\nfunction calcNodeFlowRange(nodes) {\n  // get the global min flow value, regardless of inflow/outflow\n  let min = d3.min(nodes, function(node) { return node.properties.flow; });\n  // get the global max flow value, regardless of inflow/outflow\n  let max = d3.max(nodes, function(node) { return node.properties.flow; });\n  // if min == max, then we don't know how to scale the nodes\n  // this is a crude fix, but in that case, just add \"1\" to max\n  if (min == max) max = min + 1;\n  // all set\n  return {min: min, max: max};\n}\n\n// get min and max for link flow ranges\nfunction calcLinkFlowRange(links) {\n  // get the global min and max flow from the current set of links\n  let min = d3.min(links, function(link) { return link.flow; });\n  let max = d3.max(links, function(link) { return link.flow; });\n  // all set \n  return {min: min, max: max};\n}\n\n// Draw source circles\nfunction drawSourceCircles(nodes, color) {\n  // filter to source nodes only\n  nodes = nodes.filter(function(n) { return n.properties.circletype == \"source\" });\n\n  // Select source circles and join data to the selection\n  let circs = CONFIG.circlelayer.selectAll(\"circle.source\")\n    .data(nodes);\n \n  // Exit selection: remove circles left over\n  circs.exit().remove();\n\n  // Enter: Add new circles, with the given class\n  let circs_enter = circs.enter()\n    .append(\"circle\")\n    .attr(\"data-current-inflow\", function(d) { return d.current_inflow })\n    .attr(\"data-inflow\", function(d) { return d.properties.aggregate_inflows })\n    .attr(\"data-outflow\", function(d) { return d.properties.aggregate_outflows })\n    .attr(\"data-country\", function(d) { return d.id })\n    .attr(\"class\", \"source\")\n    .attr(\"cx\", CONFIG.calc_node_cx)\n    .attr(\"cy\", CONFIG.calc_node_cy)\n    .attr(\"r\", CONFIG.calc_node_r_outflows)\n    .style(\"fill\", color)\n    .attr(\"opacity\", 1)\n    .on(\"click\", function(d) {\n      // source country search\n      prepareMapAndCharts({\n        view: \"country\", \n        key: \"source\", \n        value: d.id, \n        type: \"source\",\n        targettype: \"project\", \n        rescale: \"no\"\n      });\n    });\n\n  // Update: update existing circles\n  circs\n    .attr(\"data-current-inflow\", function(d) { return d.current_inflow })\n    .attr(\"data-inflow\", function(d) { return d.properties.aggregate_inflows })\n    .attr(\"data-outflow\", function(d) { return d.properties.aggregate_outflows })\n    .attr(\"data-country\", function(d) { return d.id })\n    .attr(\"class\", \"source\")\n    .attr(\"cx\", CONFIG.calc_node_cx)\n    .attr(\"cy\", CONFIG.calc_node_cy)\n    .attr(\"r\", CONFIG.calc_node_r_outflows)     \n    .style(\"fill\", color);\n\n  // update the tooltip, but only if _not_ mobile\n  if (!isMobile()) {\n    // select them again, goofy, I know, but we want to get both the enter() and update sets\n    let current_source_circs = CONFIG.circlelayer.selectAll(\"circle.source\")\n      .on(\"mouseover\", function(d) {\n        let text = `Financing Country: ${d.id}`;\n        text += \"<br>\";\n        text += CONFIG.units == \"megawatts\" ? \"Capacity: \" : \"Funding: \";\n        text += CONFIG.format[CONFIG.units](d.properties.aggregate_outflows);\n        CONFIG.tooltip.html(text);\n        CONFIG.tooltip.style(\"visibility\", \"visible\");\n        return;\n      })\n      .on(\"mousemove\", function(d) {\n        return CONFIG.tooltip.style(\"top\",\n        (d3.event.pageY-10)+\"px\").style(\"left\",(d3.event.pageX+10)+\"px\");\n      })\n      .on(\"mouseout\", function(d){\n        return CONFIG.tooltip.style(\"visibility\", \"hidden\");\n      });\n  }\n}\n\n// Draw target circles\nfunction drawTargetCircles(targetnodes, color, targettype) {\n  // filter to target nodes only\n  targetnodes = targetnodes.filter(function(n) { return n.properties.circletype == \"target\" });\n\n  // select target elements and bind the data\n  let targetcircs = CONFIG.circlelayer.selectAll(\"circle.target\")\n    .data(targetnodes);\n\n  // exit condition\n  targetcircs.exit().remove();\n\n  // create new circles, with the given class\n  let targetcircs_enter = targetcircs.enter()\n    .append(\"circle\")\n    .attr(\"class\",\"target\")\n    .attr(\"data-current-inflow\", function(d) { return d.current_inflow })\n    .attr(\"data-inflow\", function(d) { return d.properties.aggregate_inflows })\n    .attr(\"data-outflow\", function(d) { return d.properties.aggregate_outflows })\n    .attr(\"data-country\", function(d) { return d.id })\n    .attr(\"cx\", CONFIG.calc_node_cx)\n    .attr(\"cy\", CONFIG.calc_node_cy)\n    .attr(\"r\", CONFIG.calc_node_r_inflows)\n    .style(\"fill\", color)\n    .attr(\"opacity\", 1)\n    .on(\"click\", function(d) { \n      // target country search\n      let key = targettype == \"project\" ? \"target\" : \"country\";\n      prepareMapAndCharts({\n        view: \"country\", \n        key: key, \n        value: d.id, \n        type: \"target\",\n        targettype: targettype,\n        rescale: \"no\"\n      });\n    });\n\n  // update existing ones \n  targetcircs\n    .attr(\"data-current-inflow\", function(d) { return d.current_inflow })\n    .attr(\"data-inflow\", function(d) { return d.properties.aggregate_inflows })\n    .attr(\"data-outflow\", function(d) { return d.properties.aggregate_outflows })\n    .attr(\"data-country\", function(d) { return d.id })\n    .attr(\"class\",\"target\")\n    .attr(\"cx\", CONFIG.calc_node_cx)\n    .attr(\"cy\", CONFIG.calc_node_cy)\n    .attr(\"r\", CONFIG.calc_node_r_inflows)   \n    .style(\"fill\", color);\n\n  // update the tooltip, but only if _not_ mobile\n  if (!isMobile()) {\n    // select them again, goofy, I know\n    let current_target_circs = CONFIG.circlelayer.selectAll(\"circle.target\")\n      .on(\"mouseover\", function(d) { \n        let text = `Recipient ${targettype}: ${d.id}`;\n        text += \"<br>\";\n        text += CONFIG.units == \"megawatts\" ? \"Capacity: \" : \"Funding: \";\n        text += CONFIG.format[CONFIG.units](d.properties.aggregate_inflows);\n\n        CONFIG.tooltip.html(text);\n        CONFIG.tooltip.style(\"visibility\", \"visible\");\n        return;\n      })\n      .on(\"mousemove\", function(d){\n        return CONFIG.tooltip.style(\"top\",\n        (d3.event.pageY-10)+\"px\").style(\"left\",(d3.event.pageX+10)+\"px\");\n      })\n      .on(\"mouseout\", function(d){\n        return CONFIG.tooltip.style(\"visibility\", \"hidden\");\n      });\n  }\n}\n\n// draw the links between nodes\nfunction drawLinks(links, addclass=null) {\n  // Add data to link layer\n  var beziers = CONFIG.linklayer.selectAll(\"path\")\n    .data(links);\n  \n  // if specified, add a second class to the link paths\n  // expected use is to draw very light links on first load only\n  var klasses = addclass ? `link ${addclass}` : \"link\";\n\n  // Draw the links\n  // update the existing ones\n  beziers\n    .attr(\"class\", klasses)\n    .attr(\"d\", CONFIG.calc_link_path)\n    .style(\"stroke-width\", CONFIG.link_width_function);\n    \n  // append new ones \n  var beziers_enter = beziers.enter()\n    .append(\"path\")\n    // need this for hover events\n    .attr(\"pointer-events\", \"visibleStroke\")\n    .attr(\"class\", klasses)\n    .attr(\"d\", CONFIG.calc_link_path)\n    .attr(\"id\", function(d){ return d.id })\n    .style(\"stroke-width\", CONFIG.link_width_function);\n\n  // update the tooltip, but only if _not_ mobile\n  if (!isMobile()) {\n    // CONFIG.tooltip\n    beziers_enter\n      .on(\"mouseover\", function(d) {\n        let text = `From ${d.source} to ${d.target}`;\n        text += \"<br>\";\n        text += CONFIG.format[CONFIG.units](d.flow);\n        CONFIG.tooltip.html(text);\n        CONFIG.tooltip.style(\"visibility\", \"visible\");\n        return;\n      })\n      .on(\"mousemove\", function(d){\n        return CONFIG.tooltip.style(\"top\",\n        (d3.event.pageY-10)+\"px\").style(\"left\",(d3.event.pageX+10)+\"px\");\n      })\n      .on(\"mouseout\", function(d){\n        return CONFIG.tooltip.style(\"visibility\", \"hidden\");\n      });\n  }\n\n  // Remove old links\n  beziers.exit().remove();\n}\n\n// fit the map to a given set of features\nfunction fitMapToFeatures(features, reverse_coords=false) {\n  var geojson = {\n    \"type\": \"FeatureCollection\",\n    \"features\":[],\n  };\n  features.forEach(function(feature) {\n    geojson.features.push(feature);\n  });\n\n  // the spatialsankey nodes object carries the features, and reverses these in place\n  // hence we have to reverse them back to get proper bounds\n  var layer = L.geoJson(geojson);\n  var bounds = layer.getBounds();\n\n  if (reverse_coords) {\n    var ne = bounds.getNorthEast();\n    var sw = bounds.getSouthWest();\n    bounds = [[ne.lng, ne.lat],[sw.lng, sw.lat]];\n  }\n  CONFIG.map.fitBoundsWithOffset(bounds);\n}\n\n// On Leaflet zoomend, make sure cx and cy are in sync with the map\nfunction updateZoomEnd() {\n  CONFIG.map.on(\"zoomend\", function() {\n    // Update links position\n    CONFIG.linklayer.selectAll(\"path\").attr(\"d\", CONFIG.calc_link_path);\n\n    // Update source circles\n    // why does reselecting these make a difference? \n    var circs = CONFIG.circlelayer.selectAll(\"circle.source\");\n    circs\n      .attr(\"cx\", CONFIG.calc_node_cx)\n      .attr(\"cy\", CONFIG.calc_node_cy); \n\n    // Update target circles\n    // why does reselecting these make a difference? \n    var targetcircs = CONFIG.circlelayer.selectAll(\"circle.target\");\n    if (targetcircs.nodes().length > 0) {\n      targetcircs\n        .attr(\"cx\", CONFIG.calc_node_cx)\n        .attr(\"cy\", CONFIG.calc_node_cy); \n    } \n  });\n};\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n///// SHIMS AND UTILITIES: Various polyfills to add functionality\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n// trim() function\nif(!String.prototype.trim) { String.prototype.trim = function () {return this.replace(/^\\s+|\\s+$/g,'');};}\n\n// get an object's keys\nObject.keys||(Object.keys=function(){'use strict';var t=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable('toString'),e=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],o=e.length;return function(n){if('object'!=typeof n&&('function'!=typeof n||null===n))throw new TypeError('Object.keys called on non-object');var c,l,p=[];for(c in n)t.call(n,c)&&p.push(c);if(r)for(l=0;o>l;l++)t.call(n,e[l])&&p.push(e[l]);return p}}());\n\n// string Capitalize first letter\nString.prototype.capitalize = function() { return this.charAt(0).toUpperCase() + this.slice(1);}\n\n// get a string's Proper Case\nString.prototype.toTitleCase=function(){var e,r,t,o,n;for(t=this.replace(/([^\\W_]+[^\\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}),o=['A','An','The','And','But','Or','For','Nor','As','At','By','For','From','In','Into','Near','Of','On','Onto','To','With'],e=0,r=o.length;r>e;e++)t=t.replace(new RegExp('\\\\s'+o[e]+'\\\\s','g'),function(e){return e.toLowerCase()});for(n=['Id','Tv'],e=0,r=n.length;r>e;e++)t=t.replace(new RegExp('\\\\b'+n[e]+'\\\\b','g'),n[e].toUpperCase());return t};\n\n// reduce arrays to unique items\nconst uniq = (a) => { return Array.from(new Set(a));}\n\n// variable to show if we are are on a mobile or iPad client\nvar mobileDetect = new MobileDetect(window.navigator.userAgent);\nfunction isMobile() { return mobileDetect.mobile(); }\n\n// wait for a variable to exist. When it does, fire the given callback\nfunction waitForIt(key, callback) {\n  if (key) {\n    callback();\n  } else {\n    setTimeout(function() {\n      waitForIt(key, callback);\n    }, 100);\n  }\n};\n\n// slice array into even chunks\nfunction chunkArray(arr, len) {\n  var chunks = [], i = 0, n = arr.length;\n  while (i < n) {\n    chunks.push(arr.slice(i, i += len));\n  }\n  return chunks;\n}\n\n// reduce object to unique array of items by key\nconst uniqueByKey = function(array, key) {\n  var unique = {};\n  var distinct = [];\n  for (var i in array) {\n    if (typeof(unique[array[i][key]]) == \"undefined\"){\n      distinct.push(array[i][key]);\n    }\n    unique[array[i][key]] = 0;\n  }\n  return distinct;\n}","// extracted by mini-css-extract-plugin\nexport default {\"sourcecolor\":\"#ef572e\",\"sourcecolor_light\":\"#feefeb\",\"targetcolor\":\"#00b9f1\",\"targetcolor_light\":\"#bef0ff\",\"countrystyle\":\"#ff605c\",\"sidebarwidth\":\"415\",\"lineopacity\":\".8\",\"linewidth\":\"3\",\"linewidth_mobile\":\"5\",\"circlesize\":\"12\",\"circlesize_mobile\":\"14\",\"circleopacity\":\".85\",\"highlight_color\":\"#f2e360\"};"],"names":["define","undefined","isArray","impl","fullPattern","shortPattern","tabletPattern","hasOwnProp","Object","prototype","hasOwnProperty","equalIC","a","b","toLowerCase","containsIC","array","value","valueLC","i","len","length","convertPropsToRegExp","object","key","call","RegExp","MobileDetect","userAgent","maxPhoneWidth","this","ua","substr","prepareUserAgent","_cache","FALLBACK_PHONE","FALLBACK_TABLET","FALLBACK_MOBILE","Array","toString","values","verPos","mobileDetectRules","props","indexOf","substring","oss","phones","tablets","uas","utils","oss0","WindowsPhoneOS","WindowsMobileOS","findMatch","rules","test","findMatches","result","push","getVersionStr","propertyName","patterns","match","exec","getVersion","version","prepareVersionNo","NaN","numbers","split","shift","join","Number","isMobileFallback","detectMobileBrowsers","isTabletFallback","prepareDetectionCache","cache","mobile","phone","tablet","phoneSized","isPhoneSized","mobileGrade","t","$isMobile","os","is","detectOS","getDeviceSmallerSide","window","screen","width","height","constructor","userAgents","versionStr","pattern","grade","_impl","module","exports","factory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","amdD","Error","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","obj","prop","r","e","CONFIG","DATA","initData","url","Promise","resolve","reject","$","data","initSearchTerms","project_search","Set","filtered","map","project_name","display","financer_search","financer","search_data","source","country","search_input","options","unifySourceFormat","node","trigger","hideSearchResults","prepareMapAndCharts","args","view","type","targettype","rescale","target_countries","target_projects","era","val","finance_type","financer_type","close_year","domestic_intl","units","filter","dollars","swal","links","createLinks","nodes","createNodes","node_flow_range","calcNodeFlowRange","link_flow_range","calcLinkFlowRange","updateZoomEnd","fitmap","drawMap","drawLegend","target","drawGlobalSidebar","drawPieChart","drawCountrySidebar","countries","c","drawCountryBoundaries","overlay_pane","d3","select","svg","selectAll","remove","linklayer","append","circlelayer","drawLinks","drawTargetCircles","targetcolor","drawSourceCircles","sourcecolor","fitMapToFeatures","text","min","max","attr","maxradius","classed","container","format","minradius","config","chart","plotBackgroundColor","plotBorderWidth","plotShadow","spacing","legend","itemStyle","textOverflow","fontFamily","style","fontSize","title","margin","tooltip","pointFormat","accessibility","point","valueSuffix","plotOptions","pie","allowPointSelect","cursor","dataLabels","enabled","showInLegend","series","name","colorByPoint","size","innerSize","financers","uniqueByKey","output","total","reduce","item","forEach","f","sum","y","color","piechart_colors","Highcharts","zoomto","country_layers","clearLayers","country_layer","L","geoJSON","country_data","pane","country_style","interactive","feature","properties","NAME","addTo","fitBoundsWithOffset","getBounds","setTimeout","click","hide","show","country_list","outflows","aggregate_outflows","id","flow","sorted","_","orderBy","outflow_rows","enter","exit","inflows","aggregate_inflows","inflow_rows","barscale","chartrow","on","dataset","transition","duration","bgcolor","bgcolor_light","sourcecolor_light","targetcolor_light","css","background","title_height","panel_height","row","unit","name_unit_concat","project","financers_units","groupBy","objs","meanBy","sumBy","financer_rows","project_rows","wrapper","appendTo","units_financers","details","z","wiki","outer","html","class","source_data","targets","source_target_data","total_flow","datum","link","target_country","source_coords","parseFloat","source_lat","source_lng","target_coords","target_lat","target_lng","source_countries","target_locations","createNodeFeature","console","log","countryfield","lat","lng","geometry","coordinates","circletype","circs","current_inflow","calc_node_cx","calc_node_cy","calc_node_r_outflows","isMobile","event","pageY","pageX","targetnodes","targetcircs","calc_node_r_inflows","addclass","beziers","klasses","calc_link_path","link_width_function","beziers_enter","features","reverse_coords","geojson","layer","geoJson","bounds","ne","getNorthEast","sw","getSouthWest","minzoom","maxzoom","mapPad","stroke","opacity","weight","fillColor","fillOpacity","feature_hover_style","feature_select_style","circle_opacity","sidebarwidth","styles","s","toLocaleString","minimumFractionDigits","maximumFractionDigits","isNaN","num","Math","round","EPSILON","m","first_load","document","ready","all","then","Papa","parse","header","skipEmptyLines","location","search","URLSearchParams","datar","rawdata","years","target_country_lat","target_country_lng","megawatts","lats1","lats2","lats","concat","lngs1","lngs2","lngs","xmin","xmax","ymin","ymax","homebounds","JSON","stringify","uniq","sort","initDataFormat","Map","notmobile","sidebarvisible","offset","left","paddingTopLeft","paddingBottomRight","fitBounds","range","scaleLinear","domain","latLngToLayerPoint","x","diff","controls","sx","sy","dx","dy","width_range","attributionControl","zoomControl","minZoom","maxZoom","createPane","getPane","zIndex","featureGroup","control","attribution","prefix","position","Control","ZoomBar","homeBounds","tileLayer","Browser","retina","div","el","getElementById","DomEvent","stopPropagation","disableScrollPropagation","disableClickPropagation","select2","placeholder","minimumResultsForSearch","dropdownCssClass","year_select","year","allowClear","disabled","initSelects","button","state","siblings","typeahead","input","minLength","maxItem","maxItemPerGroup","order","hint","searchOnFocus","emptyTemplate","correlativeTemplate","group","dropdownFilter","debug","callback","onShowLayout","getElementsByClassName","onHideLayout","onClickAfter","preventDefault","submit","onCancel","tippy","allowHTML","String","trim","replace","keys","propertyIsEnumerable","TypeError","l","p","capitalize","charAt","toUpperCase","slice","toTitleCase","from","mobileDetect","navigator","unique","distinct"],"sourceRoot":""}